{"version":3,"sources":["webpack://ReactDevToolsBackend/webpack/universalModuleDefinition","webpack://ReactDevToolsBackend/webpack/bootstrap","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/agent/Agent.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/agent/Bridge.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/agent/consts.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/agent/dehydrate.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/agent/getIn.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/agent/hydrate.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/agent/inject.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/ReactDebugHooks.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/attachRenderer.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/attachRendererFiber.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/backend.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/copyWithSet.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/getData.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/getData012.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/getDisplayName.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/installGlobalHook.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/backend/traverseAllChildrenImpl.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/frontend/Highlighter/Highlighter.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/frontend/Highlighter/MultiOverlay.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/frontend/Highlighter/Overlay.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/frontend/Highlighter/setup.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/frontend/Themes/Fonts.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/assert/assert.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/d/index.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/error-stack-parser/error-stack-parser.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/assign/index.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/assign/is-implemented.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/assign/shim.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/is-callable.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/keys/index.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/keys/is-implemented.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/keys/shim.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/normalize-options.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/object/valid-value.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/string/#/contains/index.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/string/#/contains/is-implemented.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es5-ext/string/#/contains/shim.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es6-symbol/index.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es6-symbol/is-implemented.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es6-symbol/is-symbol.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es6-symbol/polyfill.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/es6-symbol/validate-symbol.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/events/events.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/fbjs/lib/ExecutionEnvironment.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/fbjs/lib/invariant.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/fbjs/lib/performance.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/fbjs/lib/performanceNow.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/inherits/inherits_browser.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/nullthrows/nullthrows.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/object-assign/index.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/process/browser.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/semver/semver.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/stackframe/stackframe.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/util/support/isBufferBrowser.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/node_modules/util/util.js","webpack://ReactDevToolsBackend/(webpack)/buildin/global.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/plugins/HooksInspector/backend.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/plugins/Profiler/ProfileCollector.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/plugins/Profiler/backend.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/plugins/ReactNativeStyle/resolveBoxStyle.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/plugins/ReactNativeStyle/setupBackend.js","webpack://ReactDevToolsBackend//Users/shengshuqiang/dream/AdvanceOnReactNative/react-devtools-p/utils/guid.js","webpack://ReactDevToolsBackend/./src/backend.js"],"names":["require","EventEmitter","assign","nullthrows","default","guid","getIn","Agent","global","capabilities","internalInstancesById","Map","idsByInternalInstances","WeakMap","renderers","elementData","roots","Set","reactInternals","lastSelected","on","id","data","get","publicInstance","$r","_prevSelected","_scrollUpdate","isReactDOM","window","document","createElement","scroll","body","scrollIntoView","dom","editTextContent","_updateScroll","bind","addEventListener","_onScroll","_onClick","_onMouseOver","_onResize","ev","fn","removeListener","renderer","bridge","send","emit","_setState","_setProps","_setContext","_makeGlobal","highlight","highlightMany","isRecording","enabled","_inspectEnabled","text","node","getNodeForID","textContent","__REACT_DEVTOOLS_GLOBAL_HOOK__","$node","$type","type","$inst","newSelected","$0","sentSelected","selectFromDOMNode","scrollToNode","value","forget","console","warn","domElement","nodeType","Node","ELEMENT_NODE","parentElement","scrollIntoViewIfNeeded","name","props","ids","nodes","forEach","push","length","component","getNativeFromReactElement","quiet","offsetFromLeaf","getIDForNode","instance","getId","log","getReactElementFromNative","e","path","updater","setInProps","setInState","setInContext","$tmp","internalInstance","has","set","add","children","map","c","canUpdate","delete","requestAnimationFrame","event","target","stopPropagation","preventDefault","module","exports","consts","hydrate","dehydrate","performanceNow","getWindowFunction","polyfill","String","indexOf","lastRunTimeMS","cancelIdleCallback","clearTimeout","requestIdleCallback","cb","options","delayMS","setTimeout","startTime","didTimeout","timeRemaining","Infinity","endTime","Bridge","wall","_cbs","_inspectables","_cid","_listeners","_buffer","_flushHandle","_callers","_paused","_wall","listen","_handleMessage","cleaned","proto","protoclean","callback","args","handler","Error","prev","evt","scheduleFlush","timeout","flushBufferWhileIdle","deadline","chunkCount","chunkSize","Math","round","minChunkSize","take","min","max","currentBuffer","splice","flushBufferSlice","bufferSlice","events","san","setInspectable","ix","self","listener","apply","arguments","off","payload","cancelFlush","_handleCall","_inspectResponse","fns","handlers","Array","isArray","result","error","inspectable","val","protod","isFn","Symbol","iterator","iterVal","Object","create","count","entry","getOwnPropertyNames","__proto__","constructor","newProto","pIsFn","inspected","meta","LEVEL_THRESHOLD","getPropType","_reactFragment","ArrayBuffer","isView","DataView","prototype","toString","call","createDehydrated","readOnly","level","slice","byteLength","uninspectable","item","i","concat","res","hasOwnProperty","base","reduce","obj","attr","last","pop","obj_","replace","setupBackend","hook","agent","subs","sub","helpers","setReactInternals","walkTree","onMounted","addRoot","onUnmounted","onUpdated","rootCommitted","onUpdatedProfileTimes","onSendFiberTree","success","reactDevtoolsAgent","ContextProvider","ForwardRef","FunctionComponent","SimpleMemoComponent","hookLog","primitiveStackCache","getPrimitiveStackCache","cache","readHookLog","Dispatcher","useContext","_currentValue","useState","useReducer","s","a","useRef","useLayoutEffect","useEffect","useImperativeHandle","undefined","useCallback","useMemo","useDebugValue","primitive","ErrorStackParser","parse","stackError","currentHook","nextHook","next","readContext","context","observedBits","initialState","state","memoizedState","action","reducer","initialAction","initialValue","ref","current","inputs","formatterFn","nextCreate","mostLikelyAncestorIndex","findSharedIndex","hookStack","rootStack","rootIndex","source","hookSearch","b","findCommonAncestorIndex","isReactWrapper","functionName","primitiveName","expectedPrimitiveName","lastIndexOf","findPrimitiveIndex","stackCache","primitiveStack","parseTrimmedStack","primitiveIndex","parseCustomHookName","startIndex","substr","buildTree","rootChildren","prevStack","levelChildren","stackOfChildren","stack","commonSteps","stackSource","prevSource","j","subHooks","rollupDebugValues","hooksTree","parentHooksNode","debugValueHooksNodes","hooksNode","inspectHooks","renderFunction","currentDispatcher","previousDispatcher","ancestorStackError","setupContexts","contextMap","fiber","tag","providerType","_context","memoizedProps","return","restoreContexts","inspectHooksOfForwardRef","resolveDefaultProps","Component","baseProps","defaultProps","propName","inspectHooksOfFiber","elementType","render","getData","getData012","attachRendererFiber","attachRenderer","rid","rootNodeIDMap","extras","isPre013","Reconciler","findFiberByHostInstance","Mount","findNodeHandle","nativeTagToRootNodeID","nativeTag","ComponentTree","getNodeFromInstance","getClosestInstanceFromNode","getID","getNode","_rootNodeID","parentNode","oldMethods","oldRenderComponent","oldRenderRoot","_renderNewRootComponent","decorateResult","renderComponent","_reactInternalInstance","decorateMany","Mixin","mountComponent","updateComponent","unmountComponent","rootID","transaction","performUpdateIfNecessary","nextChild","receiveComponent","visit","visitRoot","onMount","walkRoots","_instancesByReactRootID","_instancesByContainerID","cleanup","restoreMany","onRoot","walkNode","child","old","decorate","olds","semver","copyWithSet","getDisplayName","getInternalReactConstants","version","ReactTypeOfWork","ReactSymbols","ReactTypeOfSideEffect","gte","ClassComponent","ContextConsumer","CoroutineComponent","CoroutineHandlerPhase","Fragment","HostComponent","HostPortal","HostRoot","HostText","IncompleteClassComponent","IndeterminateComponent","LazyComponent","MemoComponent","Mode","Profiler","SuspenseComponent","YieldComponent","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","CONTEXT_CONSUMER_NUMBER","CONTEXT_CONSUMER_SYMBOL_STRING","CONTEXT_PROVIDER_NUMBER","CONTEXT_PROVIDER_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","DEPRECATED_PLACEHOLDER_SYMBOL_STRING","PerformedWork","overrideProps","getDataFiber","key","_debugSource","resolvedContext","memoizedInteractions","actualDuration","actualStartTime","treeBaseDuration","isTimedOutSuspense","containsHooks","resolvedType","then","_reactResult","setState","stateNode","keys","inst","forceUpdate","displayName","containerInfo","setNativeProps","nativeProps","symbolOrNumber","$$typeof","switchValue","primaryChildFragment","primaryChild","fallbackChildFragment","sibling","fallbackChild","getOpaqueNode","pendingProps","alternate","setIn","parent","opaqueNodes","hasDataChanged","prevFiber","nextFiber","effectTag","haveProfilerTimesChanged","pendingEvents","flushPendingEvents","enqueueMount","isRoot","enqueueUpdateIfNecessary","hasChildOrderChanged","enqueueUnmount","opaqueNode","unshift","markRootCommitted","mountFiber","outer","updateFiber","prevChildAtSameIndex","prevChild","getFiberRoots","root","handleCommitFiberUnmount","handleSendFiberTree","fiberTreeInfo","handleCommitFiberRoot","wasMounted","element","isMounted","hostInstance","findHostInstanceByFiber","err","oldReact","React","__internals","_renderers","inject","shutdown","sendCachedFiberTree","copyWithSetImpl","idx","updated","traverseAllChildrenImpl","_currentElement","_renderedComponent","_instance","_renderedChildren","childrenList","unfilteredChildren","filteredChildren","_traverseContext","childType","_source","_nativeNode","_hostNode","isReactTopLevelWrapper","_stringText","enqueueForceUpdate","internalInst","FB_MODULE_RE","cachedDisplayNames","fallbackName","nameFromCache","match","componentName","moduleName","startsWith","installGlobalHook","detectReactBuildType","bundleType","Function","renderRootCode","hasDetectedBadDCE","cachedFiberTreeInfos","checkDCE","code","random","reactBuildType","supportsFiber","_fiberRoots","rendererID","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","sendFiberTree","defineProperty","invariant","SEPARATOR","SUBSEPARATOR","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","REACT_ELEMENT_TYPE","for","escape","escapeRegex","escaperLookup","escapedString","getComponentKey","index","nameSoFar","traverseContext","nextName","subtreeCount","nextNamePrefix","iteratorFn","step","ii","done","addendum","childrenString","join","Overlay","MultiOverlay","Highlighter","win","onSelect","_win","_onSelect","_overlay","_multiOverlay","_subs","_inspecting","captureSubscription","onHover","onMouseDown","onClick","unsub","hideHighlight","stopInspecting","_button","removeChild","removeMultiOverlay","COMMENT_NODE","inspect","removeOverlay","refresh","remove","cancelBubble","makeMagnifier","onclick","startInspecting","appendChild","removeEventListener","button","innerHTML","style","backgroundColor","border","outline","cursor","position","bottom","right","fontSize","zIndex","doc","container","_currentNodes","div","getBoundingClientRect","box","top","innerHeight","left","width","height","boxSizing","pointerEvents","monospace","padding","content","borderColor","overlayStyles","background","margin","tip","borderRadius","fontFamily","family","fontWeight","sizes","normal","nameSpan","color","borderRight","paddingRight","marginRight","dimSpan","getNestedBoundingClientRect","dims","getElementDimensions","boxWrap","borderTop","borderBottom","paddingTop","paddingBottom","borderLeft","paddingLeft","marginTop","marginLeft","nodeName","toLowerCase","tipPos","findTipPos","marginBottom","tipHeight","innerWidth","calculatedStyle","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","mergeRectOffsets","rects","previousRect","rect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","what","borderStyle","setup","hl","refreshMultiOverlay","large","sansSerif","small","compare","x","y","len","isBuffer","Buffer","_isBuffer","util","hasOwn","pSlice","functionsHaveNames","foo","pToString","arrbuf","buffer","assert","ok","regex","getName","func","isFunction","str","AssertionError","actual","expected","operator","message","generatedMessage","getMessage","stackStartFunction","fail","captureStackTrace","out","fn_name","next_line","substring","inherits","truncate","n","something","rawname","equal","notEqual","deepEqual","_deepEqual","deepStrictEqual","strict","memos","isDate","getTime","isRegExp","multiline","lastIndex","ignoreCase","Float32Array","Float64Array","Uint8Array","actualIndex","objEquiv","isArguments","object","actualVisitedObjects","isPrimitive","getPrototypeOf","aIsArgs","bIsArgs","ka","objectKeys","kb","sort","notDeepEqual","notDeepStrictEqual","strictEqual","notStrictEqual","expectedException","test","isPrototypeOf","_tryBlock","block","_throws","shouldThrow","TypeError","userProvidedMessage","isUnwantedException","isError","isUnexpectedException","throws","doesNotThrow","ifError","normalizeOpts","isCallable","contains","d","dscr","w","desc","configurable","enumerable","writable","gs","factory","define","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser$$parse","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","ErrorStackParser$$extractLocation","urlLike","regExp","parts","exec","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","tokens","locationParts","fileName","lineNumber","columnNumber","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","bar","trzy","dest","src","l","process","searchString","symbol","isConcatSpreadable","toPrimitive","toStringTag","unscopables","validateSymbol","defineProperties","objPrototype","NativeSymbol","SymbolPolyfill","HiddenSymbol","globalSymbols","generateName","created","postfix","ie11BugWorkaround","description","__description__","__name__","keyFor","hasInstance","search","species","valueOf","isSymbol","_events","_maxListeners","defaultMaxListeners","setMaxListeners","isNumber","isNaN","er","listeners","isObject","isUndefined","addListener","m","newListener","warned","trace","once","fired","g","list","removeAllListeners","ret","listenerCount","evlistener","emitter","arg","canUseDOM","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","isInWorker","condition","format","f","argIndex","framesToPop","performance","msPerformance","webkitPerformance","now","Date","ctor","superCtor","super_","TempCtor","propIsEnumerable","propertyIsEnumerable","toObject","from","to","symbols","getOwnPropertySymbols","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","nextTick","Item","array","title","browser","env","argv","versions","noop","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","SemVer","debug","NODE_DEBUG","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","MAX_SAFE_COMPONENT_LENGTH","re","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","RegExp","tildeTrimReplace","TILDE","TILDELOOSE","LONECARET","CARETTRIM","caretTrimReplace","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","comparatorTrimReplace","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","r","valid","v","clean","trim","raw","major","minor","patch","prerelease","num","build","other","compareMain","comparePre","compareIdentifiers","inc","release","identifier","diff","version1","version2","eq","v1","v2","numeric","anum","bnum","rcompareIdentifiers","compareLoose","rcompare","rsort","gt","lt","neq","lte","cmp","op","Comparator","comp","ANY","intersects","rangeTmp","Range","satisfies","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","range","parseRange","comps","hr","hyphenReplace","compRe","parseComparator","some","thisComparators","every","thisComparator","rangeComparators","rangeComparator","toComparators","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","_","M","p","pr","charAt","replaceCaret","replaceXRange","gtlt","xM","xm","xp","anyX","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","testSet","allowed","maxSatisfying","maxSV","rangeObj","minSatisfying","minSV","validRange","ltr","outside","gtr","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","parsed","r1","r2","coerce","_isNumber","parseFloat","isFinite","_capitalize","toUpperCase","_getter","booleanProps","numericProps","stringProps","arrayProps","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","getFileName","getLineNumber","getColumnNumber","Boolean","k","copy","fill","readUInt8","formatRegExp","isString","objects","JSON","stringify","isNull","deprecate","msg","noDeprecation","deprecated","throwDeprecation","traceDeprecation","debugs","debugEnviron","debuglog","pid","opts","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","arrayToHash","hash","recurseTimes","formatPrimitive","visibleKeys","formatError","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","getOwnPropertyDescriptor","numLinesEst","cur","ar","isNullOrUndefined","objectToString","o","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","origin","prop","eval","setupHooksInspector","prevHooksTree","selectedID","inspectHooksTree","elementID","internals","currentDispatcherRef","currentFiber","hasNativePerformanceNow","ProfileCollector","_committedNodes","_isRecording","_recordingStartTime","_agent","_maxActualDuration","_takeCommitSnapshotForRoot","_onIsRecording","_onMountOrUpdate","_onRootCommitted","_onUnmount","interactionsArray","storeSnapshot","committedNodes","commitTime","duration","init","emptyFunction","checkIfProfilingIsSupported","profilingIsSupported","rootId","resolveBoxStyle","prefix","capFirst","styleOverridesByHostComponentId","setupRNStyle","resolveRNStyle","onCall","measureStyle","oldName","newName","renameStyle","setStyle","blank","measure","measuredLayout","shallowClone","nobj","newStyle","customStyle","lastLength","setupProfiler","setupHighlighter","connectToDevTools","host","port","websocket","isAppActive","scheduleRetry","messageListeners","closeListeners","uri","ws","WebSocket","onclose","handleClose","onerror","handleFailed","onmessage","handleMessage","onopen","onClose","hasClosed","rnStyle","rnStyleMeasure","addBridge","_connectTimeout"],"mappings":"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","file":"backend.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactDevToolsBackend\"] = factory();\n\telse\n\t\troot[\"ReactDevToolsBackend\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/backend.js\");\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar {EventEmitter} = require('events');\n\nvar assign = require('object-assign');\nvar nullthrows = require('nullthrows').default;\nvar guid = require('../utils/guid');\nvar getIn = require('./getIn');\n\nimport type {RendererID, DataType, OpaqueNodeHandle, NativeType, Helpers} from '../backend/types';\n\ntype ElementID = string;\n\nimport type Bridge from './Bridge';\n\n/**\n * The agent lives on the page in the same context as React, observes events\n * from the `backend`, and communicates (via a `Bridge`) with the frontend.\n *\n * It is responsible for generating string IDs (ElementID) for each react\n * element, maintaining a mapping of those IDs to elements, handling messages\n * from the frontend, and translating between react elements and native\n * handles.\n *\n *\n *   React\n *     |\n *     v\n *  backend\n *     |\n *     v\n *  -----------\n * | **Agent** |\n *  -----------\n *     ^\n *     |\n *     v\n *  (Bridge)\n *     ^\n *     |\n * serialization\n *     |\n *     v\n *  (Bridge)\n *     ^\n *     |\n *     v\n *  ----------------\n * | Frontend Store |\n *  ----------------\n *\n *\n * Events from the `backend`:\n * - root (got a root)\n * - mount (a component mounted)\n * - update (a component updated)\n * - unmount (a component mounted)\n *\n * Events from the `frontend` Store:\n * - see `addBridge` for subscriptions\n *\n * Events that Agent fires:\n * - selected\n * - hideHighlight\n * - startInspecting\n * - stopInspecting\n * - shutdown\n * - highlight /highlightMany\n * - setSelection\n * - root\n * - mount\n * - update\n * - unmount\n */\nclass Agent extends EventEmitter {\n  // the window or global -> used to \"make a value available in the console\"\n  global: Object;\n  internalInstancesById: Map<ElementID, OpaqueNodeHandle>;\n  idsByInternalInstances: WeakMap<OpaqueNodeHandle, ElementID>;\n  renderers: Map<ElementID, RendererID>;\n  elementData: Map<ElementID, DataType>;\n  roots: Set<ElementID>;\n  reactInternals: {[key: RendererID]: Helpers};\n  _prevSelected: ?NativeType;\n  _scrollUpdate: boolean;\n  capabilities: {[key: string]: boolean};\n  _updateScroll: () => void;\n  _inspectEnabled: boolean;\n\n  constructor(global: Object, capabilities?: Object) {\n    super();\n    this.global = global;\n    this.internalInstancesById = new Map();\n    this.idsByInternalInstances = new WeakMap();\n    this.renderers = new Map();\n    this.elementData = new Map();\n    this.roots = new Set();\n    this.reactInternals = {};\n    var lastSelected;\n    this.on('selected', id => {\n      var data = this.elementData.get(id);\n      if (data) {\n        if (data.publicInstance && this.global.$r === lastSelected) {\n          this.global.$r = data.publicInstance;\n          lastSelected = data.publicInstance;\n        }\n      }\n    });\n    this._prevSelected = null;\n    this._scrollUpdate = false;\n    var isReactDOM = window.document && typeof window.document.createElement === 'function';\n    this.capabilities = assign({\n      scroll: isReactDOM && typeof window.document.body.scrollIntoView === 'function',\n      dom: isReactDOM,\n      editTextContent: false,\n    }, capabilities);\n\n    if (isReactDOM) {\n      this._updateScroll = this._updateScroll.bind(this);\n      window.addEventListener('scroll', this._onScroll.bind(this), true);\n      window.addEventListener('click', this._onClick.bind(this), true);\n      window.addEventListener('mouseover', this._onMouseOver.bind(this), true);\n      window.addEventListener('resize', this._onResize.bind(this), true);\n    }\n  }\n\n  // returns an \"unsubscribe\" function\n  sub(ev: string, fn: (data: any) => void): () => void {\n    this.on(ev, fn);\n    return () => {\n      this.removeListener(ev, fn);\n    };\n  }\n\n  setReactInternals(renderer: RendererID, reactInternals: Helpers) {\n    this.reactInternals[renderer] = reactInternals;\n  }\n\n  addBridge(bridge: Bridge) {\n    /** Events received from the frontend **/\n    // the initial handshake\n    bridge.on('requestCapabilities', () => {\n      bridge.send('capabilities', this.capabilities);\n      this.emit('connected');\n    });\n    bridge.on('setState', this._setState.bind(this));\n    bridge.on('setProps', this._setProps.bind(this));\n    bridge.on('setContext', this._setContext.bind(this));\n    bridge.on('makeGlobal', this._makeGlobal.bind(this));\n    bridge.on('highlight', id => this.highlight(id));\n    bridge.on('highlightMany', id => this.highlightMany(id));\n    bridge.on('hideHighlight', () => this.emit('hideHighlight'));\n    bridge.on('startInspecting', () => this.emit('startInspecting'));\n    bridge.on('stopInspecting', () => this.emit('stopInspecting'));\n    bridge.on('selected', id => this.emit('selected', id));\n    bridge.on('isRecording', isRecording => this.emit('isRecording', isRecording));\n    bridge.on('setInspectEnabled', enabled => {\n      this._inspectEnabled = enabled;\n      this.emit('stopInspecting');\n    });\n    bridge.on('shutdown', () => this.emit('shutdown'));\n    bridge.on('changeTextContent', ({id, text}) => {\n      var node = this.getNodeForID(id);\n      if (!node) {\n        return;\n      }\n      node.textContent = text;\n    });\n    // used to \"inspect node in Elements pane\"\n    bridge.on('putSelectedNode', id => {\n      window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$node = this.getNodeForID(id);\n    });\n    // used to \"view source in Sources pane\"\n    bridge.on('putSelectedInstance', id => {\n      var node = this.elementData.get(id);\n      if (node) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$type = node.type;\n      } else {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$type = null;\n      }\n      if (node && node.publicInstance) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$inst = node.publicInstance;\n      } else {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$inst = null;\n      }\n    });\n    // used to select the inspected node ($0)\n    bridge.on('checkSelection', () => {\n      var newSelected = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n      if (newSelected !== this._prevSelected) {\n        this._prevSelected = newSelected;\n        var sentSelected = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$node;\n        if (newSelected !== sentSelected) {\n          this.selectFromDOMNode(newSelected, true);\n        }\n      }\n    });\n    bridge.on('scrollToNode', id => this.scrollToNode(id));\n    bridge.on('traceupdatesstatechange', value => this.emit('traceupdatesstatechange', value));\n    bridge.on('colorizerchange', value => this.emit('colorizerchange', value));\n\n    /** Events sent to the frontend **/\n    this.on('root', id => bridge.send('root', id));\n    this.on('mount', data => bridge.send('mount', data));\n    this.on('update', data => bridge.send('update', data));\n    this.on('updateProfileTimes', data => bridge.send('updateProfileTimes', data));\n    this.on('sendFiberTree', data => bridge.send('sendFiberTree', data));\n    this.on('unmount', id => {\n      bridge.send('unmount', id);\n      // once an element has been unmounted, the bridge doesn't need to be\n      // able to inspect it anymore.\n      bridge.forget(id);\n    });\n    this.on('setSelection', data => bridge.send('select', data));\n    this.on('setInspectEnabled', data => bridge.send('setInspectEnabled', data));\n    this.on('isRecording', isRecording => bridge.send('isRecording', isRecording));\n    this.on('storeSnapshot', (data) => bridge.send('storeSnapshot', data));\n    this.on('clearSnapshots', () => bridge.send('clearSnapshots'));\n  }\n\n  scrollToNode(id: ElementID): void {\n    var node = this.getNodeForID(id);\n    if (!node) {\n      console.warn('unable to get the node for scrolling');\n      return;\n    }\n    var domElement = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;\n    if (!domElement) {\n      console.warn('unable to get the domElement for scrolling');\n      return;\n    }\n\n    if (typeof domElement.scrollIntoViewIfNeeded === 'function') {\n      domElement.scrollIntoViewIfNeeded();\n    } else if (typeof domElement.scrollIntoView === 'function') {\n      domElement.scrollIntoView();\n    }\n    this.highlight(id);\n  }\n\n  highlight(id: ElementID) {\n    var data = this.elementData.get(id);\n    var node = this.getNodeForID(id);\n    if (data && node) {\n      this.emit('highlight', {node, name: data.name, props: data.props});\n    }\n  }\n\n  highlightMany(ids: Array<ElementID>) {\n    var nodes = [];\n    ids.forEach(id => {\n      var node = this.getNodeForID(id);\n      if (node) {\n        nodes.push(node);\n      }\n    });\n    if (nodes.length) {\n      this.emit('highlightMany', nodes);\n    }\n  }\n\n  getNodeForID(id: ElementID): ?Object {\n    var component = this.internalInstancesById.get(id);\n    if (!component) {\n      return null;\n    }\n    var renderer = this.renderers.get(id);\n    if (renderer && this.reactInternals[renderer].getNativeFromReactElement) {\n      return this.reactInternals[renderer].getNativeFromReactElement(component);\n    }\n    return null;\n  }\n\n  selectFromDOMNode(node: Object, quiet?: boolean, offsetFromLeaf: ?number = 0) {\n    var id = this.getIDForNode(node);\n    if (!id) {\n      return;\n    }\n    this.emit('setSelection', {id, quiet, offsetFromLeaf});\n  }\n\n  // TODO: remove this method because it's breaking encapsulation.\n  // It was used by RN inspector but this required leaking Fibers to it.\n  // RN inspector will use selectFromDOMNode() instead now.\n  // Remove this method in a few months after this comment was added.\n  selectFromReactInstance(instance: OpaqueNodeHandle, quiet?: boolean) {\n    var id = this.getId(instance);\n    if (!id) {\n      console.log('no instance id', instance);\n      return;\n    }\n    this.emit('setSelection', {id, quiet});\n  }\n\n  getIDForNode(node: Object): ?ElementID {\n    if (!this.reactInternals) {\n      return null;\n    }\n    var component;\n    for (var renderer in this.reactInternals) {\n      // If a renderer doesn't know about a reactId, it will throw an error.\n      try {\n        // $FlowFixMe possibly null - it's not null\n        component = this.reactInternals[renderer].getReactElementFromNative(node);\n      } catch (e) {}\n      if (component) {\n        return this.getId(component);\n      }\n    }\n    return null;\n  }\n\n  _setProps({id, path, value}: {id: ElementID, path: Array<string>, value: any}) {\n    var data = this.elementData.get(id);\n    if (data && data.updater && typeof data.updater.setInProps === 'function') {\n      data.updater.setInProps(path, value);\n    } else {\n      console.warn(\"trying to set props on a component that doesn't support it\");\n    }\n  }\n\n  _setState({id, path, value}: {id: ElementID, path: Array<string>, value: any}) {\n    var data = this.elementData.get(id);\n    if (data && data.updater && typeof data.updater.setInState === 'function') {\n      data.updater.setInState(path, value);\n    } else {\n      console.warn(\"trying to set state on a component that doesn't support it\");\n    }\n  }\n\n  _setContext({id, path, value}: {id: ElementID, path: Array<string>, value: any}) {\n    var data = this.elementData.get(id);\n    if (data && data.updater && typeof data.updater.setInContext === 'function') {\n      // $FlowFixMe\n      data.updater.setInContext(path, value);\n    } else {\n      console.warn(\"trying to set context on a component that doesn't support it\");\n    }\n  }\n\n  _makeGlobal({id, path}: {id: ElementID, path: Array<string>}) {\n    var data = this.elementData.get(id);\n    if (!data) {\n      return;\n    }\n    var value;\n    if (path === 'instance') {\n      value = data.publicInstance;\n    } else {\n      value = getIn(data, path);\n    }\n    this.global.$tmp = value;\n    console.log('$tmp =', value);\n  }\n\n  getId(internalInstance: OpaqueNodeHandle): ElementID {\n    if (typeof internalInstance !== 'object' || !internalInstance) {\n      return internalInstance;\n    }\n    if (!this.idsByInternalInstances.has(internalInstance)) {\n      this.idsByInternalInstances.set(internalInstance, guid());\n      this.internalInstancesById.set(\n        nullthrows(this.idsByInternalInstances.get(internalInstance)),\n        internalInstance\n      );\n    }\n    return nullthrows(this.idsByInternalInstances.get(internalInstance));\n  }\n\n  addRoot(renderer: RendererID, internalInstance: OpaqueNodeHandle) {\n    var id = this.getId(internalInstance);\n    this.roots.add(id);\n    this.emit('root', id);\n  }\n\n  rootCommitted(renderer: RendererID, internalInstance: OpaqueNodeHandle, data: DataType) {\n    var id = this.getId(internalInstance);\n    this.emit('rootCommitted', id, internalInstance, data);\n  }\n\n  onMounted(renderer: RendererID, component: OpaqueNodeHandle, data: DataType) {\n    var id = this.getId(component);\n    this.renderers.set(id, renderer);\n    this.elementData.set(id, data);\n\n    var send = assign({}, data);\n    if (send.children && send.children.map) {\n      send.children = send.children.map(c => this.getId(c));\n    }\n    send.id = id;\n    send.canUpdate = send.updater && send.updater.canUpdate;\n    delete send.type;\n    delete send.updater;\n    this.emit('mount', send);\n  }\n\n  onUpdated(component: OpaqueNodeHandle, data: DataType) {\n    var id = this.getId(component);\n    this.elementData.set(id, data);\n\n    var send = assign({}, data);\n    if (send.children && send.children.map) {\n      send.children = send.children.map(c => this.getId(c));\n    }\n    send.id = id;\n    send.canUpdate = send.updater && send.updater.canUpdate;\n    delete send.type;\n    delete send.updater;\n    this.emit('update', send);\n  }\n\n  onUpdatedProfileTimes(component: OpaqueNodeHandle, data: DataType) {\n    var id = this.getId(component);\n    this.elementData.set(id, data);\n\n    var send = assign({}, data);\n    if (send.children && send.children.map) {\n      send.children = send.children.map(c => this.getId(c));\n    }\n    send.id = id;\n    send.canUpdate = send.updater && send.updater.canUpdate;\n    delete send.type;\n    delete send.updater;\n    this.emit('updateProfileTimes', send);\n  }\n\n  onSendFiberTree(component: OpaqueNodeHandle, data) {\n    this.emit('sendFiberTree', data);\n  }\n\n  onUnmounted(component: OpaqueNodeHandle) {\n    var id = this.getId(component);\n    this.elementData.delete(id);\n    if (this.roots.has(id)) {\n      this.roots.delete(id);\n      this.emit('rootUnmounted', id);\n    }\n    this.renderers.delete(id);\n    this.emit('unmount', id);\n    this.idsByInternalInstances.delete(component);\n  }\n\n  _onScroll() {\n    if (!this._scrollUpdate) {\n      this._scrollUpdate = true;\n      window.requestAnimationFrame(this._updateScroll);\n    }\n  }\n\n  _updateScroll() {\n    this.emit('refreshMultiOverlay');\n    this.emit('stopInspecting');\n    this._scrollUpdate = false;\n  }\n\n  _onClick(event: Event) {\n    if (!this._inspectEnabled) {\n      return;\n    }\n\n    var id = this.getIDForNode(event.target);\n    if (!id) {\n      return;\n    }\n\n    event.stopPropagation();\n    event.preventDefault();\n\n    this.emit('setSelection', {id});\n    this.emit('setInspectEnabled', false);\n  }\n\n  _onMouseOver(event: Event) {\n    if (this._inspectEnabled) {\n      const id = this.getIDForNode(event.target);\n      if (!id) {\n        return;\n      }\n\n      this.highlight(id);\n    }\n  }\n\n  _onResize(event: Event) {\n    this.emit('stopInspecting');\n  }\n}\n\nmodule.exports = Agent;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar consts = require('./consts');\nvar hydrate = require('./hydrate');\nvar dehydrate = require('./dehydrate');\nvar getIn = require('./getIn');\nvar performanceNow = require('fbjs/lib/performanceNow');\n\n// Use the polyfill if the function is not native implementation\nfunction getWindowFunction(name, polyfill): Function {\n  if (String(window[name]).indexOf('[native code]') === -1) {\n    return polyfill;\n  }\n  return window[name];\n}\n\n// Custom polyfill that runs the queue with a backoff.\n// If you change it, make sure it behaves reasonably well in Firefox.\nvar lastRunTimeMS = 5;\nvar cancelIdleCallback = getWindowFunction('cancelIdleCallback', clearTimeout);\nvar requestIdleCallback = getWindowFunction('requestIdleCallback', function(cb, options) {\n  // Magic numbers determined by tweaking in Firefox.\n  // There is no special meaning to them.\n  var delayMS = 3000 * lastRunTimeMS;\n  if (delayMS > 500) {\n    delayMS = 500;\n  }\n\n  return setTimeout(() => {\n    var startTime = performanceNow();\n    cb({\n      didTimeout: false,\n      timeRemaining() {\n        return Infinity;\n      },\n    });\n    var endTime = performanceNow();\n    lastRunTimeMS = (endTime - startTime) / 1000;\n  }, delayMS);\n});\n\ntype AnyFn = (...x: any) => any;\nexport type Wall = {\n  listen: (fn: (data: PayloadType) => void) => void,\n  send: (data: PayloadType) => void,\n};\n\ntype IdleDeadline = {\n  didTimeout: bool,\n  timeRemaining: () => number,\n};\n\ntype EventPayload = {\n  type: 'event',\n  cleaned: ?Array<Array<string>>,\n  evt: string,\n  data: any,\n};\n\ntype PayloadType = {\n  type: 'inspect',\n  id: string,\n  path: Array<string>,\n  callback: number,\n} | {\n  type: 'many-events',\n  events: Array<EventPayload>,\n} | {\n  type: 'call',\n  name: string,\n  args: Array<any>,\n  callback: number,\n} | {\n  type: 'callback',\n  id: number,\n  args: Array<any>,\n} | {\n  type: 'pause',\n} | {\n  type: 'resume',\n} | EventPayload;\n\n/**\n * The bridge is responsible for serializing requests between the Agent and\n * the Frontend Store. It needs to be connected to a Wall object that can send\n * JSONable data to the bridge on the other side.\n *\n * complex data\n *     |\n *     v\n *  [Bridge]\n *     |\n * jsonable data\n *     |\n *     v\n *   [wall]\n *     |\n *     v\n * ~ some barrier ~\n *     |\n *     v\n *   [wall]\n *     |\n *     v\n *  [Bridge]\n *     |\n *     v\n * \"hydrated\" data\n *\n * When an item is passed in that can't be serialized (anything other than a\n * plain array, object, or literal value), the object is \"cleaned\", and\n * rehydrated on the other side with `Symbol` attributes indicating that the\n * object needs to be inspected for more detail.\n *\n * Example:\n *\n * bridge.send('evname', {id: 'someid', foo: MyCoolObjectInstance})\n * ->\n * shows up, hydrated as\n * {\n *   id: 'someid',\n *   foo: {\n *     [consts.name]: 'MyCoolObjectInstance',\n *     [consts.type]: 'object',\n *     [consts.meta]: {},\n *     [consts.inspected]: false,\n *   }\n * }\n *\n * The `consts` variables are Symbols, and as such are non-ennumerable.\n * The front-end therefore needs to check for `consts.inspected` on received\n * objects, and can thereby display object proxies and inspect them.\n *\n * Complex objects that are passed are expected to have a top-level `id`\n * attribute, which is used for later lookup + inspection. Once it has been\n * determined that an object is no longer needed, call `.forget(id)` to clean\n * up.\n */\nclass Bridge {\n  _buffer: Array<{evt: string, data: any}>;\n  _cbs: Map<number, Function>;\n  _cid: number;\n  _inspectables: Map<string, Object>;\n  _listeners: {[key: string]: Array<(data: any) => void>};\n  _flushHandle: ?number;\n  _wall: Wall;\n  _callers: {[key: string]: AnyFn};\n  _paused: boolean;\n\n  constructor(wall: Wall) {\n    this._cbs = new Map();\n    this._inspectables = new Map();\n    this._cid = 0;\n    this._listeners = {};\n    this._buffer = [];\n    this._flushHandle = null;\n    this._callers = {};\n    this._paused = false;\n    this._wall = wall;\n\n    wall.listen(this._handleMessage.bind(this));\n  }\n\n  inspect(id: string, path: Array<string>, cb: (val: any) => any) {\n    var _cid = this._cid++;\n    this._cbs.set(_cid, (data, cleaned, proto, protoclean) => {\n      if (cleaned.length) {\n        hydrate(data, cleaned);\n      }\n      if (proto && protoclean.length) {\n        hydrate(proto, protoclean);\n      }\n      if (proto) {\n        data[consts.proto] = proto;\n      }\n      cb(data);\n    });\n\n    this._wall.send({\n      type: 'inspect',\n      callback: _cid,\n      path,\n      id,\n    });\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen/detect v4 messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  call(name: string, args: Array<any>, cb: (val: any) => any) {\n    var _cid = this._cid++;\n    this._cbs.set(_cid, cb);\n\n    this._wall.send({\n      type: 'call',\n      callback: _cid,\n      args,\n      name,\n    });\n  }\n\n  onCall(name: string, handler: (data: any) => any) {\n    if (this._callers[name]) {\n      throw new Error('only one call handler per call name allowed');\n    }\n    this._callers[name] = handler;\n  }\n\n  pause() {\n    this._wall.send({\n      type: 'pause',\n    });\n  }\n\n  resume() {\n    this._wall.send({\n      type: 'resume',\n    });\n  }\n\n  setInspectable(id: string, data: Object) {\n    var prev = this._inspectables.get(id);\n    if (!prev) {\n      this._inspectables.set(id, data);\n      return;\n    }\n    this._inspectables.set(id, {...prev, ...data});\n  }\n\n  send(evt: string, data: any) {\n    this._buffer.push({evt, data});\n    this.scheduleFlush();\n  }\n\n  scheduleFlush() {\n    if (!this._flushHandle && this._buffer.length) {\n      var timeout = this._paused ? 5000 : 500;\n      this._flushHandle = requestIdleCallback(\n        this.flushBufferWhileIdle.bind(this),\n        {timeout}\n      );\n    }\n  }\n\n  cancelFlush() {\n    if (this._flushHandle) {\n      cancelIdleCallback(this._flushHandle);\n      this._flushHandle = null;\n    }\n  }\n\n  flushBufferWhileIdle(deadline: IdleDeadline) {\n    this._flushHandle = null;\n\n    // Magic numbers were determined by tweaking in a heavy UI and seeing\n    // what performs reasonably well both when DevTools are hidden and visible.\n    // The goal is that we try to catch up but avoid blocking the UI.\n    // When paused, it's okay to lag more, but not forever because otherwise\n    // when user activates React tab, it will freeze syncing.\n    var chunkCount = this._paused ? 20 : 10;\n    var chunkSize = Math.round(this._buffer.length / chunkCount);\n    var minChunkSize = this._paused ? 50 : 100;\n\n    while (this._buffer.length && (\n      deadline.timeRemaining() > 0 ||\n      deadline.didTimeout\n    )) {\n      var take = Math.min(this._buffer.length, Math.max(minChunkSize, chunkSize));\n      var currentBuffer = this._buffer.splice(0, take);\n      this.flushBufferSlice(currentBuffer);\n    }\n\n    if (this._buffer.length) {\n      this.scheduleFlush();\n    }\n  }\n\n  flushBufferSlice(bufferSlice: Array<{evt: string, data: any}>) {\n    var events = bufferSlice.map(({evt, data}) => {\n      var cleaned = [];\n      var san = dehydrate(data, cleaned);\n      if (cleaned.length) {\n        this.setInspectable(data.id, data);\n      }\n      return {type: 'event', evt, data: san, cleaned};\n    });\n    this._wall.send({type: 'many-events', events});\n  }\n\n  forget(id: string) {\n    this._inspectables.delete(id);\n  }\n\n  on(evt: string, fn: AnyFn) {\n    if (!this._listeners[evt]) {\n      this._listeners[evt] = [fn];\n    } else {\n      this._listeners[evt].push(fn);\n    }\n  }\n\n  off(evt: string, fn: AnyFn) {\n    if (!this._listeners[evt]) {\n      return;\n    }\n    var ix = this._listeners[evt].indexOf(fn);\n    if (ix !== -1) {\n      this._listeners[evt].splice(ix, 1);\n    }\n  }\n\n  once(evt: string, fn: AnyFn) {\n    var self = this;\n    var listener = function() {\n      fn.apply(this, arguments);\n      self.off(evt, listener);\n    };\n    this.on(evt, listener);\n  }\n\n  _handleMessage(payload: PayloadType) {\n    if (payload.type === 'resume') {\n      this._paused = false;\n      this.scheduleFlush();\n      return;\n    }\n\n    if (payload.type === 'pause') {\n      this._paused = true;\n      this.cancelFlush();\n      return;\n    }\n\n    if (payload.type === 'callback') {\n      var callback = this._cbs.get(payload.id);\n      if (callback) {\n        callback(...payload.args);\n        this._cbs.delete(payload.id);\n      }\n      return;\n    }\n\n    if (payload.type === 'call') {\n      this._handleCall(payload.name, payload.args, payload.callback);\n      return;\n    }\n\n    if (payload.type === 'inspect') {\n      this._inspectResponse(payload.id, payload.path, payload.callback);\n      return;\n    }\n\n    if (payload.type === 'event') {\n      // console.log('[bridge<-]', payload.evt);\n      if (payload.cleaned) {\n        hydrate(payload.data, payload.cleaned);\n      }\n      var fns = this._listeners[payload.evt];\n      var data = payload.data;\n      if (fns) {\n        fns.forEach(fn => fn(data));\n      }\n    }\n\n    if (payload.type === 'many-events') {\n      payload.events.forEach(event => {\n        // console.log('[bridge<-]', payload.evt);\n        if (event.cleaned) {\n          hydrate(event.data, event.cleaned);\n        }\n        var handlers = this._listeners[event.evt];\n        if (handlers) {\n          handlers.forEach(fn => fn(event.data));\n        }\n      });\n    }\n  }\n\n  _handleCall(name: string, args: Array<any>, callback: number) {\n    if (!this._callers[name]) {\n      console.warn('unknown call: \"' + name + '\"');\n      return;\n    }\n    args = !Array.isArray(args) ? [args] : args;\n    var result;\n    try {\n      result = this._callers[name].apply(null, args);\n    } catch (e) {\n      console.error('Failed to call', e);\n      return;\n    }\n    this._wall.send({\n      type: 'callback',\n      id: callback,\n      args: [result],\n    });\n  }\n\n  _inspectResponse(id: string, path: Array<string>, callback: number) {\n    var inspectable = this._inspectables.get(id);\n    var result = {};\n    var cleaned = [];\n    var proto = null;\n    var protoclean = [];\n\n    if (inspectable) {\n      var val = getIn(inspectable, path);\n      var protod = false;\n      var isFn = typeof val === 'function';\n\n      if (val && typeof val[Symbol.iterator] === 'function') {\n        var iterVal = Object.create({});  // flow throws \"object literal incompatible with object type\"\n        var count = 0;\n        for (const entry of val) {\n          if (count > 100) {\n            // TODO: replace this if block with better logic to handle large iterables\n            break;\n          }\n          iterVal[count] = entry;\n          count++;\n        }\n        val = iterVal;\n      }\n\n      Object.getOwnPropertyNames(val).forEach(name => {\n        if (name === '__proto__') {\n          protod = true;\n        }\n        if (isFn && (name === 'arguments' || name === 'callee' || name === 'caller')) {\n          return;\n        }\n        // $FlowIgnore This is intentional\n        result[name] = dehydrate(val[name], cleaned, [name]);\n      });\n\n      /* eslint-disable no-proto */\n      if (!protod && val.__proto__ && val.constructor.name !== 'Object') {\n        var newProto = {};\n        var pIsFn = typeof val.__proto__ === 'function';\n        Object.getOwnPropertyNames(val.__proto__).forEach(name => {\n          if (pIsFn && (name === 'arguments' || name === 'callee' || name === 'caller')) {\n            return;\n          }\n          newProto[name] = dehydrate(val.__proto__[name], protoclean, [name]);\n        });\n        proto = newProto;\n      }\n      /* eslint-enable no-proto */\n    }\n\n    this._wall.send({\n      type: 'callback',\n      id: callback,\n      args: [result, cleaned, proto, protoclean],\n    });\n  }\n}\n\nmodule.exports = Bridge;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar Symbol = require('es6-symbol');\n\nmodule.exports = {\n  name: Symbol('name'),\n  type: Symbol('type'),\n  inspected: Symbol('inspected'),\n  meta: Symbol('meta'),\n  proto: Symbol('proto'),\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n// We tried reducing this value from 2 to 1 to improve performance:\n// https://github.com/facebook/react-devtools/issues/1200\n// But this caused problems with the Profiler's interaction tracing output.\n// Because React mutates Fibers, profiling data that is dehydrated for old commits\n// will not be available later from within the Profiler.\n// This impacts props/state as well as Interactions.\n// https://github.com/facebook/react-devtools/issues/1262\nconst LEVEL_THRESHOLD = 10;\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nfunction getPropType(data: Object): string | null {\n  if (!data) {\n    return null;\n  }\n  var type = typeof data;\n\n  if (type === 'object') {\n    if (data._reactFragment) {\n      return 'react_fragment';\n    }\n    if (Array.isArray(data)) {\n      return 'array';\n    }\n    if (ArrayBuffer.isView(data)) {\n      if (data instanceof DataView) {\n        return 'data_view';\n      }\n      return 'typed_array';\n    }\n    if (data instanceof ArrayBuffer) {\n      return 'array_buffer';\n    }\n    if (typeof data[Symbol.iterator] === 'function') {\n      return 'iterator';\n    }\n    if (Object.prototype.toString.call(data) === '[object Date]') {\n      return 'date';\n    }\n  }\n\n  return type;\n}\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(type: string, data: Object, cleaned: Array<Array<string>>, path: Array<string>): Object {\n  var meta = {};\n\n  if (type === 'array' || type === 'typed_array') {\n    meta.length = data.length;\n  }\n  if (type === 'iterator' || type === 'typed_array') {\n    meta.readOnly = true;\n  }\n\n  cleaned.push(path);\n\n  return {\n    type,\n    meta,\n    name: !data.constructor || data.constructor.name === 'Object' ? '' : data.constructor.name,\n  };\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels\n * deep). The paths of the stripped out objects are appended to the `cleaned`\n * list. On the other side of the barrier, the cleaned list is used to\n * \"re-hydrate\" the cleaned representation into an object with symbols as\n * attributes, so that a sanitized object can be distinguished from a normal\n * object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nfunction dehydrate(data: Object, cleaned: Array<Array<string>>, path?: Array<string> = [], level?: number = 0): string | Object {\n\n  var type = getPropType(data);\n\n  switch (type) {\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        name: data.name,\n        type: 'function',\n      };\n\n    case 'string':\n      return data.length <= 500 ? data : data.slice(0, 500) + '...';\n\n    // We have to do this assignment b/c Flow doesn't think \"symbol\" is\n    // something typeof would return. Error 'unexpected predicate \"symbol\"'\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        type: 'symbol',\n        name: data.toString(),\n      };\n\n    // React Fragments error if you try to inspect them.\n    case 'react_fragment':\n      return 'A React Fragment';\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        type,\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        meta: {\n          length: data.byteLength,\n          uninspectable: true,\n        },\n      };\n\n    case 'array':\n      if (level > LEVEL_THRESHOLD) {\n        return createDehydrated(type, data, cleaned, path);\n      }\n      return data.map((item, i) => dehydrate(item, cleaned, path.concat([i]), level + 1));\n\n    case 'typed_array':\n    case 'iterator':\n      return createDehydrated(type, data, cleaned, path);\n    case 'date':\n      cleaned.push(path);\n      return {\n        name: data.toString(),\n        type: 'date',\n        meta: {\n          uninspectable: true,\n        },\n      };\n    case 'object':\n      if (level > LEVEL_THRESHOLD || (data.constructor && typeof data.constructor === 'function' && data.constructor.name !== 'Object')) {\n        return createDehydrated(type, data, cleaned, path);\n      } else {\n\n        var res = {};\n        for (var name in data) {\n          res[name] = dehydrate(data[name], cleaned, path.concat([name]), level + 1);\n        }\n        return res;\n      }\n\n    default:\n      return data;\n  }\n}\n\nmodule.exports = dehydrate;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Retrieves the value from the path of nested objects\n * @param  {Object} base Base or root object for path\n * @param  {Array<String>} path nested path\n * @return {any}      Value at end of path or `mull`\n */\nfunction getIn(base, path) {\n  return path.reduce((obj, attr) => {\n    if (obj) {\n      if (hasOwnProperty.call(obj, attr)) {\n        return obj[attr];\n      }\n      if (typeof obj[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        return [...obj][attr];\n      }\n    }\n\n    return null;\n  }, base);\n}\n\nmodule.exports = getIn;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar consts = require('./consts');\n\nfunction hydrate(data: Object, cleaned: Array<Array<string>>): void {\n  cleaned.forEach(path => {\n    var last = path.pop();\n    var obj = path.reduce((obj_, attr) => obj_ ? obj_[attr] : null, data);\n    if (!obj || !obj[last]) {\n      return;\n    }\n    var replace: {[key: Symbol]: boolean | string} = {};\n    replace[consts.name] = obj[last].name;\n    replace[consts.type] = obj[last].type;\n    replace[consts.meta] = obj[last].meta;\n    replace[consts.inspected] = false;\n    obj[last] = replace;\n  });\n}\n\nmodule.exports = hydrate;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nimport type {Hook} from '../backend/types';\nimport type Agent from './Agent';\n\nvar setupBackend = require('../backend/backend');\n\nmodule.exports = function(hook: Hook, agent: Agent) {\n  var subs = [\n    // Basic functionality\n    hook.sub('renderer-attached', ({id, renderer, helpers}) => {\n      agent.setReactInternals(id, helpers);\n      helpers.walkTree(agent.onMounted.bind(agent, id), agent.addRoot.bind(agent, id));\n    }),\n    hook.sub('mount', ({renderer, internalInstance, data}) => agent.onMounted(renderer, internalInstance, data)),\n    hook.sub('unmount', ({renderer, internalInstance}) => agent.onUnmounted(internalInstance)),\n    hook.sub('update', ({renderer, internalInstance, data}) => agent.onUpdated(internalInstance, data)),\n\n    // Required by Profiler plugin\n    hook.sub('root', ({renderer, internalInstance}) => agent.addRoot(renderer, internalInstance)),\n    hook.sub('rootCommitted', ({renderer, internalInstance, data}) => agent.rootCommitted(renderer, internalInstance, data)),\n    hook.sub('updateProfileTimes', ({renderer, internalInstance, data}) => agent.onUpdatedProfileTimes(internalInstance, data)),\n\n      // fibertree\n      hook.sub('sendFiberTree', ({renderer, internalInstance, data}) => agent.onSendFiberTree(internalInstance, data)),\n\n  ];\n\n  var success = setupBackend(hook);\n  if (!success) {\n    return;\n  }\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n  agent.on('shutdown', () => {\n    subs.forEach(fn => fn());\n    hook.reactDevtoolsAgent = null;\n  });\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This file was forked from the React GitHub repo:\n// https://github.com/facebook/react/blob/master/packages/react-debug-tools/src/ReactDebugHooks.js\n// It has been modified slightly though to account for \"shared\" imports and different lint configs.\n// I've also removed some of the Flow types that don't exist in DevTools.\n\ntype Fiber = any;\ntype Hook = any;\n\nimport ErrorStackParser from 'error-stack-parser';\n\n// HACK: These values are copied from attachRendererFiber\n// In the future, the react-debug-hooks package will be published to NPM,\n// and be locked to a specific range of react versions\n// For now we are just hard-coding the current/latest versions.\nconst ContextProvider = 10;\nconst ForwardRef = 11;\nconst FunctionComponent = 0;\nconst SimpleMemoComponent = 15;\n\n// Used to track hooks called during a render\n\ntype HookLogEntry = {\n  primitive: string,\n  stackError: Error,\n  value: mixed,\n};\n\nlet hookLog: Array<HookLogEntry> = [];\n\n// Primitives\n\ntype BasicStateAction<S> = (S => S) | S;\n\ntype Dispatch<A> = A => void;\n\nlet primitiveStackCache: null | Map<string, Array<any>> = null;\n\nfunction getPrimitiveStackCache(): Map<string, Array<any>> {\n  // This initializes a cache of all primitive hooks so that the top\n  // most stack frames added by calling the primitive hook can be removed.\n  if (primitiveStackCache === null) {\n    const cache = new Map();\n    let readHookLog;\n    try {\n      // Use all hooks here to add them to the hook log.\n      Dispatcher.useContext(({_currentValue: null}: any));\n      Dispatcher.useState(null);\n      Dispatcher.useReducer((s, a) => s, null);\n      Dispatcher.useRef(null);\n      Dispatcher.useLayoutEffect(() => {});\n      Dispatcher.useEffect(() => {});\n      Dispatcher.useImperativeHandle(undefined, () => null);\n      Dispatcher.useCallback(() => {});\n      Dispatcher.useMemo(() => null);\n      Dispatcher.useDebugValue(null);\n    } finally {\n      readHookLog = hookLog;\n      hookLog = [];\n    }\n    for (let i = 0; i < readHookLog.length; i++) {\n      const hook = readHookLog[i];\n      cache.set(hook.primitive, ErrorStackParser.parse(hook.stackError));\n    }\n    primitiveStackCache = cache;\n  }\n  return primitiveStackCache;\n}\n\nlet currentHook: null | Hook = null;\nfunction nextHook(): null | Hook {\n  const hook = currentHook;\n  if (hook !== null) {\n    currentHook = hook.next;\n  }\n  return hook;\n}\n\nfunction readContext<T>(\n  context: any,\n  observedBits: void | number | boolean,\n): T {\n  // For now we don't expose readContext usage in the hooks debugging info.\n  return context._currentValue;\n}\n\nfunction useContext<T>(\n  context: any,\n  observedBits: void | number | boolean,\n): T {\n  hookLog.push({\n    primitive: 'Context',\n    stackError: new Error(),\n    value: context._currentValue,\n  });\n  return context._currentValue;\n}\n\nfunction useState<S>(\n  initialState: (() => S) | S,\n): [S, Dispatch<BasicStateAction<S>>] {\n  const hook = nextHook();\n  const state: S =\n    hook !== null\n      ? hook.memoizedState\n      : typeof initialState === 'function'\n        ? initialState()\n        : initialState;\n  hookLog.push({primitive: 'State', stackError: new Error(), value: state});\n  return [state, (action: BasicStateAction<S>) => {}];\n}\n\nfunction useReducer<S, A>(\n  reducer: (S, A) => S,\n  initialState: S,\n  initialAction: A | void | null,\n): [S, Dispatch<A>] {\n  const hook = nextHook();\n  const state = hook !== null ? hook.memoizedState : initialState;\n  hookLog.push({\n    primitive: 'Reducer',\n    stackError: new Error(),\n    value: state,\n  });\n  return [state, (action: A) => {}];\n}\n\nfunction useRef<T>(initialValue: T): {current: T} {\n  const hook = nextHook();\n  const ref = hook !== null ? hook.memoizedState : {current: initialValue};\n  hookLog.push({\n    primitive: 'Ref',\n    stackError: new Error(),\n    value: ref.current,\n  });\n  return ref;\n}\n\nfunction useLayoutEffect(\n  create: () => mixed,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({\n    primitive: 'LayoutEffect',\n    stackError: new Error(),\n    value: create,\n  });\n}\n\nfunction useEffect(\n  create: () => mixed,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({primitive: 'Effect', stackError: new Error(), value: create});\n}\n\nfunction useImperativeHandle<T>(\n  ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n  create: () => T,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  // We don't actually store the instance anywhere if there is no ref callback\n  // and if there is a ref callback it might not store it but if it does we\n  // have no way of knowing where. So let's only enable introspection of the\n  // ref itself if it is using the object form.\n  let instance = undefined;\n  if (ref !== null && typeof ref === 'object') {\n    instance = ref.current;\n  }\n  hookLog.push({\n    primitive: 'ImperativeHandle',\n    stackError: new Error(),\n    value: instance,\n  });\n}\n\nfunction useCallback<T>(callback: T, inputs: Array<mixed> | void | null): T {\n  const hook = nextHook();\n  hookLog.push({\n    primitive: 'Callback',\n    stackError: new Error(),\n    value: hook !== null ? hook.memoizedState[0] : callback,\n  });\n  return callback;\n}\n\nfunction useDebugValue(\n  value: any,\n  formatterFn: ?(value: any) => any,\n) {\n  hookLog.push({\n    primitive: 'DebugValue',\n    stackError: new Error(),\n    value: typeof formatterFn === 'function' ? formatterFn(value) : value,\n  });\n}\n\nfunction useMemo<T>(\n  nextCreate: () => T,\n  inputs: Array<mixed> | void | null,\n): T {\n  const hook = nextHook();\n  const value = hook !== null ? hook.memoizedState[0] : nextCreate();\n  hookLog.push({primitive: 'Memo', stackError: new Error(), value});\n  return value;\n}\n\nconst Dispatcher = {\n  readContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useDebugValue,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n};\n\n// Inspect\n\ntype ReactCurrentDispatcher = {\n  current: null | typeof Dispatcher,\n};\n\ntype HooksNode = {\n  name: string,\n  value: mixed,\n  subHooks: Array<HooksNode>,\n};\ntype HooksTree = Array<HooksNode>;\n\n// Don't assume\n//\n// We can't assume that stack frames are nth steps away from anything.\n// E.g. we can't assume that the root call shares all frames with the stack\n// of a hook call. A simple way to demonstrate this is wrapping `new Error()`\n// in a wrapper constructor like a polyfill. That'll add an extra frame.\n// Similar things can happen with the call to the dispatcher. The top frame\n// may not be the primitive. Likewise the primitive can have fewer stack frames\n// such as when a call to useState got inlined to use dispatcher.useState.\n//\n// We also can't assume that the last frame of the root call is the same\n// frame as the last frame of the hook call because long stack traces can be\n// truncated to a stack trace limit.\n\nlet mostLikelyAncestorIndex = 0;\n\nfunction findSharedIndex(hookStack, rootStack, rootIndex) {\n  const source = rootStack[rootIndex].source;\n  hookSearch: for (let i = 0; i < hookStack.length; i++) {\n    if (hookStack[i].source === source) {\n      // This looks like a match. Validate that the rest of both stack match up.\n      for (\n        let a = rootIndex + 1, b = i + 1;\n        a < rootStack.length && b < hookStack.length;\n        a++, b++\n      ) {\n        if (hookStack[b].source !== rootStack[a].source) {\n          // If not, give up and try a different match.\n          continue hookSearch;\n        }\n      }\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction findCommonAncestorIndex(rootStack, hookStack) {\n  let rootIndex = findSharedIndex(\n    hookStack,\n    rootStack,\n    mostLikelyAncestorIndex,\n  );\n  if (rootIndex !== -1) {\n    return rootIndex;\n  }\n  // If the most likely one wasn't a hit, try any other frame to see if it is shared.\n  // If that takes more than 5 frames, something probably went wrong.\n  for (let i = 0; i < rootStack.length && i < 5; i++) {\n    rootIndex = findSharedIndex(hookStack, rootStack, i);\n    if (rootIndex !== -1) {\n      mostLikelyAncestorIndex = i;\n      return rootIndex;\n    }\n  }\n  return -1;\n}\n\nfunction isReactWrapper(functionName, primitiveName) {\n  if (!functionName) {\n    return false;\n  }\n  const expectedPrimitiveName = 'use' + primitiveName;\n  if (functionName.length < expectedPrimitiveName.length) {\n    return false;\n  }\n  return (\n    functionName.lastIndexOf(expectedPrimitiveName) ===\n    functionName.length - expectedPrimitiveName.length\n  );\n}\n\nfunction findPrimitiveIndex(hookStack, hook) {\n  const stackCache = getPrimitiveStackCache();\n  const primitiveStack = stackCache.get(hook.primitive);\n  if (primitiveStack === undefined) {\n    return -1;\n  }\n  for (let i = 0; i < primitiveStack.length && i < hookStack.length; i++) {\n    if (primitiveStack[i].source !== hookStack[i].source) {\n      // If the next two frames are functions called `useX` then we assume that they're part of the\n      // wrappers that the React packager or other packages adds around the dispatcher.\n      if (\n        i < hookStack.length - 1 &&\n        isReactWrapper(hookStack[i].functionName, hook.primitive)\n      ) {\n        i++;\n      }\n      if (\n        i < hookStack.length - 1 &&\n        isReactWrapper(hookStack[i].functionName, hook.primitive)\n      ) {\n        i++;\n      }\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction parseTrimmedStack(rootStack, hook) {\n  // Get the stack trace between the primitive hook function and\n  // the root function call. I.e. the stack frames of custom hooks.\n  const hookStack = ErrorStackParser.parse(hook.stackError);\n  const rootIndex = findCommonAncestorIndex(rootStack, hookStack);\n  const primitiveIndex = findPrimitiveIndex(hookStack, hook);\n  if (\n    rootIndex === -1 ||\n    primitiveIndex === -1 ||\n    rootIndex - primitiveIndex < 2\n  ) {\n    // Something went wrong. Give up.\n    return null;\n  }\n  return hookStack.slice(primitiveIndex, rootIndex - 1);\n}\n\nfunction parseCustomHookName(functionName: void | string): string {\n  if (!functionName) {\n    return '';\n  }\n  let startIndex = functionName.lastIndexOf('.');\n  if (startIndex === -1) {\n    startIndex = 0;\n  }\n  if (functionName.substr(startIndex, 3) === 'use') {\n    startIndex += 3;\n  }\n  return functionName.substr(startIndex);\n}\n\nfunction buildTree(rootStack, readHookLog): HooksTree {\n  const rootChildren = [];\n  let prevStack = null;\n  let levelChildren = rootChildren;\n  const stackOfChildren = [];\n  for (let i = 0; i < readHookLog.length; i++) {\n    const hook = readHookLog[i];\n    const stack = parseTrimmedStack(rootStack, hook);\n    if (stack !== null) {\n      // Note: The indices 0 <= n < length-1 will contain the names.\n      // The indices 1 <= n < length will contain the source locations.\n      // That's why we get the name from n - 1 and don't check the source\n      // of index 0.\n      let commonSteps = 0;\n      if (prevStack !== null) {\n        // Compare the current level's stack to the new stack.\n        while (commonSteps < stack.length && commonSteps < prevStack.length) {\n          const stackSource = stack[stack.length - commonSteps - 1].source;\n          const prevSource = prevStack[prevStack.length - commonSteps - 1].source;\n          if (stackSource !== prevSource) {\n            break;\n          }\n          commonSteps++;\n        }\n        // Pop back the stack as many steps as were not common.\n        for (let j = prevStack.length - 1; j > commonSteps; j--) {\n          levelChildren = stackOfChildren.pop();\n        }\n      }\n      // The remaining part of the new stack are custom hooks. Push them\n      // to the tree.\n      for (let j = stack.length - commonSteps - 1; j >= 1; j--) {\n        const children = [];\n        levelChildren.push({\n          name: parseCustomHookName(stack[j - 1].functionName),\n          value: undefined,\n          subHooks: children,\n        });\n        stackOfChildren.push(levelChildren);\n        levelChildren = children;\n      }\n      prevStack = stack;\n    }\n    levelChildren.push({\n      name: hook.primitive,\n      value: hook.value,\n      subHooks: [],\n    });\n  }\n\n  // Associate custom hook values (useDebugValue() hook entries) with the correct hooks.\n  rollupDebugValues(rootChildren, null);\n\n  return rootChildren;\n}\n\n// Custom hooks support user-configurable labels (via the useDebugValue() hook).\n// That hook adds the user-provided values to the hooks tree.\n// This method removes those values (so they don't appear in DevTools),\n// and bubbles them up to the \"value\" attribute of their parent custom hook.\nfunction rollupDebugValues(\n  hooksTree: HooksTree,\n  parentHooksNode: HooksNode | null,\n): void {\n  const debugValueHooksNodes: Array<HooksNode> = [];\n\n  for (let i = 0; i < hooksTree.length; i++) {\n    const hooksNode = hooksTree[i];\n    if (hooksNode.name === 'DebugValue' && hooksNode.subHooks.length === 0) {\n      hooksTree.splice(i, 1);\n      i--;\n      debugValueHooksNodes.push(hooksNode);\n    } else {\n      rollupDebugValues(hooksNode.subHooks, hooksNode);\n    }\n  }\n\n  // Bubble debug value labels to their parent custom hook.\n  // If there is no parent hook, just ignore them.\n  // (We may warn about this in the future.)\n  if (parentHooksNode !== null) {\n    if (debugValueHooksNodes.length === 1) {\n      parentHooksNode.value = debugValueHooksNodes[0].value;\n    } else if (debugValueHooksNodes.length > 1) {\n      parentHooksNode.value = debugValueHooksNodes.map(({value}) => value);\n    }\n  }\n}\n\nexport function inspectHooks<Props>(\n  renderFunction: Props => React$Node,\n  props: Props,\n  currentDispatcher: ReactCurrentDispatcher,\n): HooksTree {\n  const previousDispatcher = currentDispatcher.current;\n  let readHookLog;\n  currentDispatcher.current = Dispatcher;\n  let ancestorStackError;\n  try {\n    ancestorStackError = new Error();\n    renderFunction(props);\n  } finally {\n    readHookLog = hookLog;\n    hookLog = [];\n    currentDispatcher.current = previousDispatcher;\n  }\n  const rootStack = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(rootStack, readHookLog);\n}\n\nfunction setupContexts(contextMap: Map<any, any>, fiber: Fiber) {\n  let current = fiber;\n  while (current) {\n    if (current.tag === ContextProvider) {\n      const providerType: any = current.type;\n      const context: any = providerType._context;\n      if (!contextMap.has(context)) {\n        // Store the current value that we're going to restore later.\n        contextMap.set(context, context._currentValue);\n        // Set the inner most provider value on the context.\n        context._currentValue = current.memoizedProps.value;\n      }\n    }\n    current = current.return;\n  }\n}\n\nfunction restoreContexts(contextMap: Map<any, any>) {\n  contextMap.forEach((value, context) => (context._currentValue = value));\n}\n\nfunction inspectHooksOfForwardRef<Props, Ref>(\n  renderFunction: (Props, Ref) => React$Node,\n  props: Props,\n  ref: Ref,\n  currentDispatcher: ReactCurrentDispatcher,\n): HooksTree {\n  const previousDispatcher = currentDispatcher.current;\n  let readHookLog;\n  currentDispatcher.current = Dispatcher;\n  let ancestorStackError;\n  try {\n    ancestorStackError = new Error();\n    renderFunction(props, ref);\n  } finally {\n    readHookLog = hookLog;\n    hookLog = [];\n    currentDispatcher.current = previousDispatcher;\n  }\n  const rootStack = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(rootStack, readHookLog);\n}\n\nfunction resolveDefaultProps(Component, baseProps) {\n  if (Component && Component.defaultProps) {\n    // Resolve default props. Taken from ReactElement\n    const props = Object.assign({}, baseProps);\n    const defaultProps = Component.defaultProps;\n    for (const propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n    return props;\n  }\n  return baseProps;\n}\n\nexport function inspectHooksOfFiber(\n  fiber: Fiber,\n  currentDispatcher: ReactCurrentDispatcher,\n) {\n  if (\n    fiber.tag !== FunctionComponent &&\n    fiber.tag !== SimpleMemoComponent &&\n    fiber.tag !== ForwardRef\n  ) {\n    throw new Error(\n      'Unknown Fiber. Needs to be a function component to inspect hooks.',\n    );\n  }\n  // Warm up the cache so that it doesn't consume the currentHook.\n  getPrimitiveStackCache();\n  const type = fiber.type;\n  let props = fiber.memoizedProps;\n  if (type !== fiber.elementType) {\n    props = resolveDefaultProps(type, props);\n  }\n  // Set up the current hook so that we can step through and read the\n  // current state from them.\n  currentHook = (fiber.memoizedState: Hook);\n  const contextMap = new Map();\n  try {\n    setupContexts(contextMap, fiber);\n    if (fiber.tag === ForwardRef) {\n      return inspectHooksOfForwardRef(type.render, props, fiber.ref, currentDispatcher);\n    }\n    return inspectHooks(type, props, currentDispatcher);\n  } finally {\n    currentHook = null;\n    restoreContexts(contextMap);\n  }\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nimport type {DataType, OpaqueNodeHandle, Hook, ReactRenderer, Helpers} from './types';\nvar getData = require('./getData');\nvar getData012 = require('./getData012');\nvar attachRendererFiber = require('./attachRendererFiber');\n\ntype NodeLike = {};\n\n/**\n * This takes care of patching the renderer to emit events on the global\n * `Hook`. The returned object has a `.cleanup` method to un-patch everything.\n */\nfunction attachRenderer(hook: Hook, rid: string, renderer: ReactRenderer): Helpers {\n  var rootNodeIDMap = new Map();\n  var extras = {};\n  // Before 0.13 there was no Reconciler, so we patch Component.Mixin\n  var isPre013 = !renderer.Reconciler;\n\n  // React Fiber\n  if (typeof renderer.findFiberByHostInstance === 'function') {\n    return attachRendererFiber(hook, rid, renderer);\n  }\n\n  // React Native\n  if (renderer.Mount.findNodeHandle && renderer.Mount.nativeTagToRootNodeID) {\n    extras.getNativeFromReactElement = function(component) {\n      return renderer.Mount.findNodeHandle(component);\n    };\n\n    extras.getReactElementFromNative = function(nativeTag) {\n      var id = renderer.Mount.nativeTagToRootNodeID(nativeTag);\n      return rootNodeIDMap.get(id);\n    };\n  // React DOM 15+\n  } else if (renderer.ComponentTree) {\n    extras.getNativeFromReactElement = function(component) {\n      return renderer.ComponentTree.getNodeFromInstance(component);\n    };\n\n    extras.getReactElementFromNative = function(node) {\n      return renderer.ComponentTree.getClosestInstanceFromNode(node);\n    };\n  // React DOM\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    extras.getNativeFromReactElement = function(component) {\n      try {\n        return renderer.Mount.getNode(component._rootNodeID);\n      } catch (e) {\n        return undefined;\n      }\n    };\n\n    extras.getReactElementFromNative = function(node) {\n      // $FlowFixMe\n      var id = renderer.Mount.getID(node);\n      while (node && node.parentNode && !id) {\n        node = node.parentNode;\n        // $FlowFixMe\n        id = renderer.Mount.getID(node);\n      }\n      return rootNodeIDMap.get(id);\n    };\n  } else {\n    console.warn('Unknown react version (does not have getID), probably an unshimmed React Native');\n  }\n\n  var oldMethods;\n  var oldRenderComponent;\n  var oldRenderRoot;\n\n  // React DOM\n  if (renderer.Mount._renderNewRootComponent) {\n    oldRenderRoot = decorateResult(renderer.Mount, '_renderNewRootComponent', (internalInstance) => {\n      hook.emit('root', {renderer: rid, internalInstance});\n    });\n  // React Native\n  } else if (renderer.Mount.renderComponent) {\n    oldRenderComponent = decorateResult(renderer.Mount, 'renderComponent', internalInstance => {\n      hook.emit('root', {renderer: rid, internalInstance: internalInstance._reactInternalInstance});\n    });\n  }\n\n  if (renderer.Component) {\n    console.error('You are using a version of React with limited support in this version of the devtools.\\nPlease upgrade to use at least 0.13, or you can downgrade to use the old version of the devtools:\\ninstructions here https://github.com/facebook/react-devtools/tree/devtools-next#how-do-i-use-this-for-react--013');\n    // 0.11 - 0.12\n    // $FlowFixMe renderer.Component is not \"possibly undefined\"\n    oldMethods = decorateMany(renderer.Component.Mixin, {\n      mountComponent() {\n        rootNodeIDMap.set(this._rootNodeID, this);\n        // FIXME DOMComponent calls Component.Mixin, and sets up the\n        // `children` *after* that call, meaning we don't have access to the\n        // children at this point. Maybe we should find something else to shim\n        // (do we have access to DOMComponent here?) so that we don't have to\n        // setTimeout.\n        setTimeout(() => {\n          hook.emit('mount', {internalInstance: this, data: getData012(this), renderer: rid});\n        }, 0);\n      },\n      updateComponent() {\n        setTimeout(() => {\n          hook.emit('update', {internalInstance: this, data: getData012(this), renderer: rid});\n        }, 0);\n      },\n      unmountComponent() {\n        hook.emit('unmount', {internalInstance: this, renderer: rid});\n        rootNodeIDMap.delete(this._rootNodeID);\n      },\n    });\n  } else if (renderer.Reconciler) {\n    oldMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(internalInstance, rootID, transaction, context) {\n        var data = getData(internalInstance);\n        rootNodeIDMap.set(internalInstance._rootNodeID, internalInstance);\n        hook.emit('mount', {internalInstance, data, renderer: rid});\n      },\n      performUpdateIfNecessary(internalInstance, nextChild, transaction, context) {\n        hook.emit('update', {internalInstance, data: getData(internalInstance), renderer: rid});\n      },\n      receiveComponent(internalInstance, nextChild, transaction, context) {\n        hook.emit('update', {internalInstance, data: getData(internalInstance), renderer: rid});\n      },\n      unmountComponent(internalInstance) {\n        hook.emit('unmount', {internalInstance, renderer: rid});\n        rootNodeIDMap.delete(internalInstance._rootNodeID);\n      },\n    });\n  }\n\n  extras.walkTree = function(visit: (component: OpaqueNodeHandle, data: DataType) => void, visitRoot: (internalInstance: OpaqueNodeHandle) => void) {\n    var onMount = (component, data) => {\n      rootNodeIDMap.set(component._rootNodeID, component);\n      visit(component, data);\n    };\n    walkRoots(renderer.Mount._instancesByReactRootID || renderer.Mount._instancesByContainerID, onMount, visitRoot, isPre013);\n  };\n\n  extras.cleanup = function() {\n    if (oldMethods) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldMethods);\n      }\n    }\n    if (oldRenderRoot) {\n      renderer.Mount._renderNewRootComponent = oldRenderRoot;\n    }\n    if (oldRenderComponent) {\n      renderer.Mount.renderComponent = oldRenderComponent;\n    }\n    oldMethods = null;\n    oldRenderRoot = null;\n    oldRenderComponent = null;\n  };\n\n  extras.renderer = null;\n\n  return extras;\n}\n\nfunction walkRoots(roots, onMount, onRoot, isPre013) {\n  for (var name in roots) {\n    walkNode(roots[name], onMount, isPre013);\n    onRoot(roots[name]);\n  }\n}\n\nfunction walkNode(internalInstance, onMount, isPre013) {\n  var data = isPre013 ? getData012(internalInstance) : getData(internalInstance);\n  if (data.children && Array.isArray(data.children)) {\n    data.children.forEach(child => walkNode(child, onMount, isPre013));\n  }\n  onMount(internalInstance, data);\n}\n\nfunction decorateResult(obj, attr, fn) {\n  var old = obj[attr];\n  obj[attr] = function(instance: NodeLike) {\n    var res = old.apply(this, arguments);\n    fn(res);\n    return res;\n  };\n  return old;\n}\n\nfunction decorate(obj, attr, fn) {\n  var old = obj[attr];\n  obj[attr] = function(instance: NodeLike) {\n    var res = old.apply(this, arguments);\n    fn.apply(this, arguments);\n    return res;\n  };\n  return old;\n}\n\nfunction decorateMany(source, fns) {\n  var olds = {};\n  for (var name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nfunction restoreMany(source, olds) {\n  for (var name in olds) {\n    source[name] = olds[name];\n  }\n}\n\nmodule.exports = attachRenderer;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nimport type {Hook, ReactRenderer, DataType, Helpers} from './types';\n\nvar semver = require('semver');\n\nvar copyWithSet = require('./copyWithSet');\nvar getDisplayName = require('./getDisplayName');\n\n// Taken from ReactElement.\nfunction resolveDefaultProps(Component: any, baseProps: Object): Object {\n  if (Component && Component.defaultProps) {\n    // Resolve default props. Taken from ReactElement\n    const props = Object.assign({}, baseProps);\n    const defaultProps = Component.defaultProps;\n    for (const propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n    return props;\n  }\n  return baseProps;\n}\n\nfunction getInternalReactConstants(version) {\n  var ReactTypeOfWork;\n  var ReactSymbols;\n  var ReactTypeOfSideEffect;\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  // **********************************************************\n  if (semver.gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      MemoComponent: 14,\n      Mode: 8,\n      Profiler: 12,\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      YieldComponent: -1, // Removed\n    };\n  } else if (semver.gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      Profiler: 15,\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      YieldComponent: -1, // Removed\n    };\n  } else {\n    ReactTypeOfWork = {\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      Profiler: 15,\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      YieldComponent: 9,\n    };\n  }\n  ReactSymbols = {\n    CONCURRENT_MODE_NUMBER: 0xeacf,\n    CONCURRENT_MODE_SYMBOL_STRING: 'Symbol(react.concurrent_mode)',\n    DEPRECATED_ASYNC_MODE_SYMBOL_STRING: 'Symbol(react.async_mode)',\n    CONTEXT_CONSUMER_NUMBER: 0xeace,\n    CONTEXT_CONSUMER_SYMBOL_STRING: 'Symbol(react.context)',\n    CONTEXT_PROVIDER_NUMBER: 0xeacd,\n    CONTEXT_PROVIDER_SYMBOL_STRING: 'Symbol(react.provider)',\n    FORWARD_REF_NUMBER: 0xead0,\n    FORWARD_REF_SYMBOL_STRING: 'Symbol(react.forward_ref)',\n    MEMO_NUMBER: 0xead3,\n    MEMO_SYMBOL_STRING: 'Symbol(react.memo)',\n    PROFILER_NUMBER: 0xead2,\n    PROFILER_SYMBOL_STRING: 'Symbol(react.profiler)',\n    STRICT_MODE_NUMBER: 0xeacc,\n    STRICT_MODE_SYMBOL_STRING: 'Symbol(react.strict_mode)',\n    SUSPENSE_NUMBER: 0xead1,\n    SUSPENSE_SYMBOL_STRING: 'Symbol(react.suspense)',\n    DEPRECATED_PLACEHOLDER_SYMBOL_STRING: 'Symbol(react.placeholder)',\n  };\n  ReactTypeOfSideEffect = {\n    PerformedWork: 1,\n  };\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  return {\n    ReactTypeOfWork,\n    ReactSymbols,\n    ReactTypeOfSideEffect,\n  };\n}\n\nfunction attachRendererFiber(hook: Hook, rid: string, renderer: ReactRenderer): Helpers {\n  var {overrideProps} = renderer;\n  var {ReactTypeOfWork, ReactSymbols, ReactTypeOfSideEffect} = getInternalReactConstants(renderer.version);\n  var {PerformedWork} = ReactTypeOfSideEffect;\n  var {\n    FunctionComponent,\n    ClassComponent,\n    ContextConsumer,\n    Fragment,\n    ForwardRef,\n    HostRoot,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IndeterminateComponent,\n    MemoComponent,\n    SimpleMemoComponent,\n  } = ReactTypeOfWork;\n  var {\n    CONCURRENT_MODE_NUMBER,\n    CONCURRENT_MODE_SYMBOL_STRING,\n    DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n    CONTEXT_CONSUMER_NUMBER,\n    CONTEXT_CONSUMER_SYMBOL_STRING,\n    CONTEXT_PROVIDER_NUMBER,\n    CONTEXT_PROVIDER_SYMBOL_STRING,\n    PROFILER_NUMBER,\n    PROFILER_SYMBOL_STRING,\n    STRICT_MODE_NUMBER,\n    STRICT_MODE_SYMBOL_STRING,\n    SUSPENSE_NUMBER,\n    SUSPENSE_SYMBOL_STRING,\n    DEPRECATED_PLACEHOLDER_SYMBOL_STRING,\n  } = ReactSymbols;\n\n  // TODO: we might want to change the data structure\n  // once we no longer support Stack versions of `getData`.\n  function getDataFiber(fiber: Object): DataType {\n    var elementType = fiber.elementType;\n    var type = fiber.type;\n    var key = fiber.key;\n    var ref = fiber.ref;\n    var tag = fiber.tag;\n    var source = fiber._debugSource;\n    var publicInstance = null;\n    var props = null;\n    var state = null;\n    var children = null;\n    var context = null;\n    var updater = null;\n    var nodeType = null;\n    var name = null;\n    var text = null;\n    var resolvedContext = null;\n\n    // Tracing\n    var memoizedInteractions = null;\n\n    // Profiler\n    var actualDuration = null;\n    var actualStartTime = null;\n    var treeBaseDuration = null;\n\n    // Suspense\n    var isTimedOutSuspense = false;\n\n    // Hooks inspection\n    var containsHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      !!fiber.memoizedState;\n\n    var resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      if (typeof type.then === 'function') {\n        resolvedType = type._reactResult;\n      }\n    }\n\n    if (typeof overrideProps === 'function') {\n      updater = {\n        canUpdate: true,\n        setState: null,\n        setInProps: overrideProps.bind(null, fiber),\n        setInState: null,\n        setInContext: null,\n      };\n    }\n\n    switch (tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        nodeType = 'Composite';\n        name = getDisplayName(resolvedType);\n        publicInstance = fiber.stateNode;\n        props = fiber.memoizedProps;\n        state = fiber.memoizedState;\n        if (publicInstance != null) {\n          context = publicInstance.context;\n          if (context && Object.keys(context).length === 0) {\n            context = null;\n          }\n        }\n        const inst = publicInstance;\n        if (inst) {\n          updater = {\n            canUpdate: true,\n            setState: inst.setState && inst.setState.bind(inst),\n            setInProps: inst.forceUpdate && setInProps.bind(null, fiber),\n            setInState: inst.forceUpdate && setInState.bind(null, inst),\n            setInContext: inst.forceUpdate && setInContext.bind(null, inst),\n          };\n        }\n        children = [];\n        break;\n      case ForwardRef:\n        const functionName = getDisplayName(resolvedType.render, '');\n        nodeType = 'Special';\n        name = resolvedType.displayName || (\n          functionName !== ''\n            ? `ForwardRef(${functionName})`\n            : 'ForwardRef'\n        );\n        props = fiber.memoizedProps;\n        state = fiber.memoizedState;\n        children = [];\n        break;\n      case HostRoot:\n        nodeType = 'Wrapper';\n        children = [];\n        memoizedInteractions = fiber.stateNode.memoizedInteractions;\n        break;\n      case HostPortal:\n        nodeType = 'Portal';\n        name = 'ReactPortal';\n        props = {\n          target: fiber.stateNode.containerInfo,\n        };\n        children = [];\n        break;\n      case HostComponent:\n        nodeType = 'Native';\n        name = fiber.type;\n\n        // TODO (bvaughn) we plan to remove this prefix anyway.\n        // We can cut this special case out when it's gone.\n        name = name.replace('topsecret-', '');\n\n        publicInstance = fiber.stateNode;\n        props = fiber.memoizedProps;\n        if (\n          typeof props.children === 'string' ||\n          typeof props.children === 'number'\n        ) {\n          children = props.children.toString();\n        } else {\n          children = [];\n        }\n        if (typeof fiber.stateNode.setNativeProps === 'function') {\n          // For editing styles in RN\n          updater = {\n            setNativeProps(nativeProps) {\n              fiber.stateNode.setNativeProps(nativeProps);\n            },\n          };\n        }\n        break;\n      case HostText:\n        nodeType = 'Text';\n        publicInstance = fiber.stateNode;\n        text = fiber.memoizedProps;\n        break;\n      case Fragment:\n        nodeType = 'Wrapper';\n        children = [];\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        nodeType = 'Composite';\n        if (elementType.displayName) {\n          name = elementType.displayName;\n        } else {\n          const displayName = type.displayName || type.name;\n          name = displayName ? `Memo(${displayName})` : 'Memo';\n        }\n        props = fiber.memoizedProps;\n        state = fiber.memoizedState;\n        children = [];\n        break;\n      default:\n        const symbolOrNumber = typeof type === 'object' && type !== null\n          ? type.$$typeof\n          : type;\n        // $FlowFixMe facebook/flow/issues/2362\n        const switchValue = typeof symbolOrNumber === 'symbol'\n          ? symbolOrNumber.toString()\n          : symbolOrNumber;\n\n        switch (switchValue) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            nodeType = 'Special';\n            name = 'ConcurrentMode';\n            children = [];\n            break;\n          case CONTEXT_PROVIDER_NUMBER:\n          case CONTEXT_PROVIDER_SYMBOL_STRING:\n            nodeType = 'Special';\n            props = fiber.memoizedProps;\n\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            resolvedContext = fiber.type._context || fiber.type.context;\n\n            name = `${resolvedContext.displayName || 'Context'}.Provider`;\n            children = [];\n            break;\n          case CONTEXT_CONSUMER_NUMBER:\n          case CONTEXT_CONSUMER_SYMBOL_STRING:\n            nodeType = 'Special';\n            props = fiber.memoizedProps;\n\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            name = `${resolvedContext.displayName || 'Context'}.Consumer`;\n            children = [];\n            break;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            nodeType = 'Special';\n            name = 'StrictMode';\n            children = [];\n            break;\n          case SUSPENSE_NUMBER:\n          case SUSPENSE_SYMBOL_STRING:\n          case DEPRECATED_PLACEHOLDER_SYMBOL_STRING:\n            nodeType = 'Special';\n            name = 'Suspense';\n            props = fiber.memoizedProps;\n            children = [];\n\n            // Suspense components only have a non-null memoizedState if they're timed-out.\n            isTimedOutSuspense = fiber.memoizedState !== null;\n            break;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            nodeType = 'Special';\n            props = fiber.memoizedProps;\n            name = `Profiler(${fiber.memoizedProps.id})`;\n            children = [];\n            break;\n          default:\n            nodeType = 'Native';\n            props = fiber.memoizedProps;\n            name = 'TODO_NOT_IMPLEMENTED_YET';\n            children = [];\n            break;\n        }\n        break;\n    }\n\n    if (\n      props !== null &&\n      typeof fiber.elementType !== undefined &&\n      fiber.type !== fiber.elementType\n    ) {\n      props = resolveDefaultProps(fiber.type, props);\n    }\n\n    if (Array.isArray(children)) {\n      if (isTimedOutSuspense) {\n        // The behavior of timed-out Suspense trees is unique.\n        // Rather than unmount the timed out content (and possibly lose important state),\n        // React re-parents this content within a hidden Fragment while the fallback is showing.\n        // This behavior doesn't need to be observable in the DevTools though.\n        // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n        // The easiest fix is to strip out the intermediate Fragment fibers,\n        // so the Elements panel and Profiler don't need to special case them.\n        const primaryChildFragment = fiber.child;\n        const primaryChild = primaryChildFragment.child;\n        const fallbackChildFragment = primaryChildFragment.sibling;\n        const fallbackChild = fallbackChildFragment.child;\n        children.push(primaryChild);\n        children.push(fallbackChild);\n      } else {\n        let child = fiber.child;\n        while (child) {\n          children.push(getOpaqueNode(child));\n          child = child.sibling;\n        }\n      }\n    }\n\n    if (fiber.actualDuration !== undefined) {\n      actualDuration = fiber.actualDuration;\n      actualStartTime = fiber.actualStartTime;\n      treeBaseDuration = fiber.treeBaseDuration;\n    }\n\n    if (publicInstance === null) {\n      // publicInstance is used for $r.\n      // If we have nothing useful to expose, at least give props and state.\n      // This is an escape hatch to avoid a situation where there is useful\n      // data in the tree but DevTools don't offer any way to get it through console.\n      publicInstance = { props, state, type };\n    }\n\n    // $FlowFixMe\n    return {\n      nodeType,\n      type,\n      key,\n      ref,\n      source,\n      name,\n      props,\n      state,\n      context,\n      children,\n      text,\n      updater,\n      publicInstance,\n\n      // Tracing\n      memoizedInteractions,\n\n      // Profiler data\n      actualDuration,\n      actualStartTime,\n      treeBaseDuration,\n\n      // Hooks inspection\n      containsHooks,\n    };\n  }\n\n  function setInProps(fiber, path: Array<string | number>, value: any) {\n    const inst = fiber.stateNode;\n    fiber.pendingProps = copyWithSet(inst.props, path, value);\n    if (fiber.alternate) {\n      // We don't know which fiber is the current one because DevTools may bail out of getDataFiber() call,\n      // and so the data object may refer to another version of the fiber. Therefore we update pendingProps\n      // on both. I hope that this is safe.\n      fiber.alternate.pendingProps = fiber.pendingProps;\n    }\n    fiber.stateNode.forceUpdate();\n  }\n\n  function setInState(inst, path: Array<string | number>, value: any) {\n    setIn(inst.state, path, value);\n    inst.forceUpdate();\n  }\n\n  function setInContext(inst, path: Array<string | number>, value: any) {\n    setIn(inst.context, path, value);\n    inst.forceUpdate();\n  }\n\n  function setIn(obj: Object, path: Array<string | number>, value: any) {\n    var last = path.pop();\n    var parent = path.reduce((obj_, attr) => obj_ ? obj_[attr] : null, obj);\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n\n  // This is a slightly annoying indirection.\n  // It is currently necessary because DevTools wants\n  // to use unique objects as keys for instances.\n  // However fibers have two versions.\n  // We use this set to remember first encountered fiber for\n  // each conceptual instance.\n  const opaqueNodes = new Set();\n  function getOpaqueNode(fiber) {\n    if (opaqueNodes.has(fiber)) {\n      return fiber;\n    }\n    const {alternate} = fiber;\n    if (alternate != null && opaqueNodes.has(alternate)) {\n      return alternate;\n    }\n    opaqueNodes.add(fiber);\n    return fiber;\n  }\n\n  function hasDataChanged(prevFiber, nextFiber) {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // eslint-disable-next-line no-bitwise\n        return (nextFiber.effectTag & PerformedWork) === PerformedWork;\n        // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n        // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  function haveProfilerTimesChanged(prevFiber, nextFiber) {\n    return (\n      prevFiber.actualDuration !== undefined && // Short-circuit check for non-profiling builds\n      (\n        prevFiber.actualDuration !== nextFiber.actualDuration ||\n        prevFiber.actualStartTime !== nextFiber.actualStartTime ||\n        prevFiber.treeBaseDuration !== nextFiber.treeBaseDuration\n      )\n    );\n  }\n\n  let pendingEvents = [];\n\n  function flushPendingEvents() {\n    const events = pendingEvents;\n    pendingEvents = [];\n    for (let i = 0; i < events.length; i++) {\n      const event = events[i];\n      hook.emit(event.type, event);\n    }\n  }\n\n  function enqueueMount(fiber) {\n    pendingEvents.push({\n      internalInstance: getOpaqueNode(fiber),\n      data: getDataFiber(fiber),\n      renderer: rid,\n      type: 'mount',\n    });\n\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      pendingEvents.push({\n        internalInstance: getOpaqueNode(fiber),\n        renderer: rid,\n        type: 'root',\n      });\n    }\n  }\n\n  function enqueueUpdateIfNecessary(fiber, hasChildOrderChanged) {\n    const data = getDataFiber(fiber);\n\n    if (\n      !hasChildOrderChanged &&\n      !hasDataChanged(fiber.alternate, fiber)\n    ) {\n      // If only timing information has changed, we still need to update the nodes.\n      // But we can do it in a faster way since we know it's safe to skip the children.\n      // It's also important to avoid emitting an \"update\" signal for the node in this case,\n      // Since that would indicate to the Profiler that it was part of the \"commit\" when it wasn't.\n      if (haveProfilerTimesChanged(fiber.alternate, fiber)) {\n        pendingEvents.push({\n          internalInstance: getOpaqueNode(fiber),\n          data,\n          renderer: rid,\n          type: 'updateProfileTimes',\n        });\n      }\n      return;\n    }\n    pendingEvents.push({\n      internalInstance: getOpaqueNode(fiber),\n      data,\n      renderer: rid,\n      type: 'update',\n    });\n  }\n\n  function enqueueUnmount(fiber) {\n    const isRoot = fiber.tag === HostRoot;\n    const opaqueNode = getOpaqueNode(fiber);\n    const event = {\n      internalInstance: opaqueNode,\n      renderer: rid,\n      type: 'unmount',\n    };\n    if (isRoot) {\n      pendingEvents.push(event);\n    } else {\n      // Non-root fibers are deleted during the commit phase.\n      // They are deleted in the child-first order. However\n      // DevTools currently expects deletions to be parent-first.\n      // This is why we unshift deletions rather than push them.\n      pendingEvents.unshift(event);\n    }\n    opaqueNodes.delete(opaqueNode);\n  }\n\n  function markRootCommitted(fiber) {\n    pendingEvents.push({\n      internalInstance: getOpaqueNode(fiber),\n      data: getDataFiber(fiber),\n      renderer: rid,\n      type: 'rootCommitted',\n    });\n  }\n\n  function mountFiber(fiber) {\n    // Depth-first.\n    // Logs mounting of children first, parents later.\n    let node = fiber;\n    outer: while (true) {\n      if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      enqueueMount(node);\n      if (node == fiber) {\n        return;\n      }\n      if (node.sibling) {\n        node.sibling.return = node.return;\n        node = node.sibling;\n        continue;\n      }\n      while (node.return) {\n        node = node.return;\n        enqueueMount(node);\n        if (node == fiber) {\n          return;\n        }\n        if (node.sibling) {\n          node.sibling.return = node.return;\n          node = node.sibling;\n          continue outer;\n        }\n      }\n      return;\n    }\n  }\n\n  function updateFiber(nextFiber, prevFiber) {\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const isTimedOutSuspense = (\n      nextFiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      nextFiber.memoizedState !== null\n    );\n\n    if (isTimedOutSuspense) {\n      // The behavior of timed-out Suspense trees is unique.\n      // Rather than unmount the timed out content (and possibly lose important state),\n      // React re-parents this content within a hidden Fragment while the fallback is showing.\n      // This behavior doesn't need to be observable in the DevTools though.\n      // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n      // The easiest fix is to strip out the intermediate Fragment fibers,\n      // so the Elements panel and Profiler don't need to special case them.\n      const primaryChildFragment = nextFiber.child;\n      const fallbackChildFragment = primaryChildFragment.sibling;\n      const fallbackChild = fallbackChildFragment.child;\n      // The primary, hidden child is never actually updated in this case,\n      // so we can skip any updates to its tree.\n      // We only need to track updates to the Fallback UI for now.\n      if (fallbackChild.alternate) {\n        updateFiber(fallbackChild, fallbackChild.alternate);\n      } else {\n        mountFiber(fallbackChild);\n      }\n      enqueueUpdateIfNecessary(nextFiber, false);\n    } else {\n      let hasChildOrderChanged = false;\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            updateFiber(nextChild, prevChild);\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (!hasChildOrderChanged && prevChild !== prevChildAtSameIndex) {\n              hasChildOrderChanged = true;\n            }\n          } else {\n            mountFiber(nextChild);\n            if (!hasChildOrderChanged) {\n              hasChildOrderChanged = true;\n            }\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!hasChildOrderChanged && prevChildAtSameIndex != null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (!hasChildOrderChanged && prevChildAtSameIndex != null) {\n          hasChildOrderChanged = true;\n        }\n      }\n      enqueueUpdateIfNecessary(nextFiber, hasChildOrderChanged);\n    }\n  }\n\n  function walkTree() {\n    hook.getFiberRoots(rid).forEach(root => {\n      // Hydrate all the roots for the first time.\n      mountFiber(root.current);\n      markRootCommitted(root.current);\n    });\n    flushPendingEvents();\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function handleCommitFiberUnmount(fiber) {\n    // This is not recursive.\n    // We can't traverse fibers after unmounting so instead\n    // we rely on React telling us about each unmount.\n    enqueueUnmount(fiber);\n  }\n\n  function handleSendFiberTree(fiberTreeInfo) {\n    // This is not recursive.\n    // We can't traverse fibers after unmounting so instead\n    // we rely on React telling us about each unmount.\n      pendingEvents.push({\n          data: fiberTreeInfo,\n          renderer: rid,\n          type: 'sendFiberTree'\n      });\n      flushPendingEvents();\n  }\n\n  function handleCommitFiberRoot(root) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted = alternate.memoizedState != null && alternate.memoizedState.element != null;\n      const isMounted = current.memoizedState != null && current.memoizedState.element != null;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        mountFiber(current);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiber(current, alternate);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        enqueueUnmount(current);\n      }\n    } else {\n      // Mount a new root.\n      mountFiber(current);\n    }\n    markRootCommitted(current);\n    // We're done here.\n    flushPendingEvents();\n  }\n\n  // The naming is confusing.\n  // They deal with opaque nodes (fibers), not elements.\n  function getNativeFromReactElement(fiber) {\n    try {\n      const opaqueNode = fiber;\n      const hostInstance = renderer.findHostInstanceByFiber(opaqueNode);\n      return hostInstance;\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n  function getReactElementFromNative(hostInstance) {\n    const fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      // TODO: type fibers.\n      const opaqueNode = getOpaqueNode((fiber: any));\n      return opaqueNode;\n    }\n    return null;\n  }\n\n  return {\n    getNativeFromReactElement,\n    getReactElementFromNative,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handleSendFiberTree,\n    cleanup,\n    walkTree,\n    renderer,\n  };\n}\n\nmodule.exports = attachRendererFiber;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n *\n * This is the chrome devtools\n *\n * 1. Devtools sets the __REACT_DEVTOOLS_GLOBAL_HOOK__ global.\n * 2. React (if present) calls .inject() with the internal renderer\n * 3. Devtools sees the renderer, and then adds this backend, along with the Agent\n *    and whatever else is needed.\n * 4. The agent then calls `.emit('react-devtools', agent)`\n *\n * Now things are hooked up.\n *\n * When devtools closes, it calls `cleanup()` to remove the listeners\n * and any overhead caused by the backend.\n */\n'use strict';\n\nimport type {Hook} from './types';\n\nvar attachRenderer = require('./attachRenderer');\n\nmodule.exports = function setupBackend(hook: Hook): boolean {\n  var oldReact = window.React && window.React.__internals;\n  if (oldReact && Object.keys(hook._renderers).length === 0) {\n    hook.inject(oldReact);\n  }\n\n  for (var rid in hook._renderers) {\n    hook.helpers[rid] = attachRenderer(hook, rid, hook._renderers[rid]);\n    hook.emit('renderer-attached', {id: rid, renderer: hook._renderers[rid], helpers: hook.helpers[rid]});\n  }\n\n  hook.on('renderer', ({id, renderer}) => {\n    hook.helpers[id] = attachRenderer(hook, id, renderer);\n    hook.emit('renderer-attached', {id, renderer, helpers: hook.helpers[id]});\n  });\n\n  var shutdown = () => {\n    for (var id in hook.helpers) {\n      hook.helpers[id].cleanup();\n    }\n    hook.off('shutdown', shutdown);\n  };\n  hook.on('shutdown', shutdown);\n\n  hook.sendCachedFiberTree();\n\n  return true;\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nfunction copyWithSetImpl(obj, path, idx, value) {\n  if (idx >= path.length) {\n    return value;\n  }\n  var key = path[idx];\n  var updated = Array.isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe number or string is fine here\n  updated[key] = copyWithSetImpl(obj[key], path, idx + 1, value);\n  return updated;\n}\n\nfunction copyWithSet(obj: Object | Array<any>, path: Array<string | number>, value: any): Object | Array<any> {\n  return copyWithSetImpl(obj, path, 0, value);\n}\n\nmodule.exports = copyWithSet;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\n// ----------------------------------------------------\n// This is Stack-only version.\n// The Fiber version is inlined in attachRendererFiber.\n// ----------------------------------------------------\n\nimport type {DataType} from './types';\nvar copyWithSet = require('./copyWithSet');\nvar getDisplayName = require('./getDisplayName');\nvar traverseAllChildrenImpl = require('./traverseAllChildrenImpl');\n\n/**\n * Convert a react internal instance to a sanitized data object.\n */\nfunction getData(internalInstance: Object): DataType {\n  var children = null;\n  var props = null;\n  var state = null;\n  var context = null;\n  var updater = null;\n  var name = null;\n  var type = null;\n  var key = null;\n  var ref = null;\n  var source = null;\n  var text = null;\n  var publicInstance = null;\n  var nodeType = 'Native';\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    nodeType = 'Text';\n    text = internalInstance + '';\n  } else if (internalInstance._currentElement === null || internalInstance._currentElement === false) {\n    nodeType = 'Empty';\n  } else if (internalInstance._renderedComponent) {\n    nodeType = 'NativeWrapper';\n    children = [internalInstance._renderedComponent];\n    props = internalInstance._instance.props;\n    state = internalInstance._instance.state;\n    context = internalInstance._instance.context;\n    if (context && Object.keys(context).length === 0) {\n      context = null;\n    }\n  } else if (internalInstance._renderedChildren) {\n    children = childrenList(internalInstance._renderedChildren);\n  } else if (internalInstance._currentElement && internalInstance._currentElement.props) {\n    // This is a native node without rendered children -- meaning the children\n    // prop is the unfiltered list of children.\n    // This may include 'null' or even other invalid values, so we need to\n    // filter it the same way that ReactDOM does.\n    // Instead of pulling in the whole React library, we just copied over the\n    // 'traverseAllChildrenImpl' method.\n    // https://github.com/facebook/react/blob/240b84ed8e1db715d759afaae85033718a0b24e1/src/isomorphic/children/ReactChildren.js#L112-L158\n    const unfilteredChildren = internalInstance._currentElement.props.children;\n    var filteredChildren = [];\n    traverseAllChildrenImpl(\n      unfilteredChildren,\n      '', // nameSoFar\n      (_traverseContext, child) => {\n        const childType = typeof child;\n        if (childType === 'string' || childType === 'number') {\n          filteredChildren.push(child);\n        }\n      },\n      // traverseContext\n    );\n    if (filteredChildren.length <= 1) {\n      // children must be an array of nodes or a string or undefined\n      // can't be an empty array\n      children = filteredChildren.length\n        ? String(filteredChildren[0])\n        : undefined;\n    } else {\n      children = filteredChildren;\n    }\n  }\n\n  if (!props && internalInstance._currentElement && internalInstance._currentElement.props) {\n    props = internalInstance._currentElement.props;\n  }\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    type = internalInstance._currentElement.type;\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n    source = internalInstance._currentElement._source;\n    ref = internalInstance._currentElement.ref;\n    if (typeof type === 'string') {\n      name = type;\n      if (internalInstance._nativeNode != null) {\n        publicInstance = internalInstance._nativeNode;\n      }\n      if (internalInstance._hostNode != null) {\n        publicInstance = internalInstance._hostNode;\n      }\n    } else if (typeof type === 'function') {\n      nodeType = 'Composite';\n      name = getDisplayName(type);\n      // 0.14 top-level wrapper\n      // TODO(jared): The backend should just act as if these don't exist.\n      if (internalInstance._renderedComponent && (\n        internalInstance._currentElement.props === internalInstance._renderedComponent._currentElement ||\n        internalInstance._currentElement.type.isReactTopLevelWrapper\n      )) {\n        nodeType = 'Wrapper';\n      }\n      if (name === null) {\n        name = 'No display name';\n      }\n    } else if (typeof internalInstance._stringText === 'string') {\n      nodeType = 'Text';\n      text = internalInstance._stringText;\n    } else {\n      name = getDisplayName(type);\n    }\n  }\n\n  if (internalInstance._instance) {\n    var inst = internalInstance._instance;\n\n    // A forceUpdate for stateless (functional) components.\n    var forceUpdate = inst.forceUpdate || (inst.updater && inst.updater.enqueueForceUpdate && function(cb) {\n      inst.updater.enqueueForceUpdate(this, cb, 'forceUpdate');\n    });\n    updater = {\n      canUpdate: true,\n      setState: inst.setState && inst.setState.bind(inst),\n      setInProps: forceUpdate && setInProps.bind(null, internalInstance, forceUpdate),\n      setInState: inst.forceUpdate && setInState.bind(null, inst),\n      setInContext: forceUpdate && setInContext.bind(null, inst, forceUpdate),\n    };\n    if (typeof type === 'function') {\n      publicInstance = inst;\n    }\n\n    // TODO: React ART currently falls in this bucket, but this doesn't\n    // actually make sense and we should clean this up after stabilizing our\n    // API for backends\n    if (inst._renderedChildren) {\n      children = childrenList(inst._renderedChildren);\n    }\n  }\n\n  if (typeof internalInstance.setNativeProps === 'function') {\n    // For editing styles in RN\n    updater = {\n      setNativeProps(nativeProps) {\n        internalInstance.setNativeProps(nativeProps);\n      },\n    };\n  }\n\n  // $FlowFixMe\n  return {\n    nodeType,\n    type,\n    key,\n    ref,\n    source,\n    name,\n    props,\n    state,\n    context,\n    children,\n    text,\n    updater,\n    publicInstance,\n  };\n}\n\nfunction setInProps(internalInst, forceUpdate, path: Array<string | number>, value: any) {\n  var element = internalInst._currentElement;\n  internalInst._currentElement = {\n    ...element,\n    props: copyWithSet(element.props, path, value),\n  };\n  forceUpdate.call(internalInst._instance);\n}\n\nfunction setInState(inst, path: Array<string | number>, value: any) {\n  setIn(inst.state, path, value);\n  inst.forceUpdate();\n}\n\nfunction setInContext(inst, forceUpdate, path: Array<string | number>, value: any) {\n  setIn(inst.context, path, value);\n  forceUpdate.call(inst);\n}\n\nfunction setIn(obj: Object, path: Array<string | number>, value: any) {\n  var last = path.pop();\n  var parent = path.reduce((obj_, attr) => obj_ ? obj_[attr] : null, obj);\n  if (parent) {\n    parent[last] = value;\n  }\n}\n\nfunction childrenList(children) {\n  var res = [];\n  for (var name in children) {\n    res.push(children[name]);\n  }\n  return res;\n}\n\nmodule.exports = getData;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\n// ----------------------------------------------------\n// This is Stack-only version.\n// The Fiber version is inlined in attachRendererFiber.\n// ----------------------------------------------------\n\nimport type {DataType} from './types';\nvar copyWithSet = require('./copyWithSet');\n\nfunction getData012(internalInstance: Object): DataType {\n  var children = null;\n  var props = internalInstance.props;\n  var state = internalInstance.state;\n  var context = internalInstance.context;\n  var updater = null;\n  var name = null;\n  var type = null;\n  var key = null;\n  var ref = null;\n  var text = null;\n  var publicInstance = null;\n  var nodeType = 'Native';\n  if (internalInstance._renderedComponent) {\n    nodeType = 'Wrapper';\n    children = [internalInstance._renderedComponent];\n    if (context && Object.keys(context).length === 0) {\n      context = null;\n    }\n  } else if (internalInstance._renderedChildren) {\n    name = internalInstance.constructor.displayName;\n    children = childrenList(internalInstance._renderedChildren);\n  } else if (typeof props.children === 'string') {\n    // string children\n    name = internalInstance.constructor.displayName;\n    children = props.children;\n    nodeType = 'Native';\n  }\n\n  if (!props && internalInstance._currentElement && internalInstance._currentElement.props) {\n    props = internalInstance._currentElement.props;\n  }\n\n  if (internalInstance._currentElement) {\n    type = internalInstance._currentElement.type;\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n    ref = internalInstance._currentElement.ref;\n    if (typeof type === 'string') {\n      name = type;\n    } else {\n      nodeType = 'Composite';\n      name = type.displayName;\n      if (!name) {\n        name = 'No display name';\n      }\n    }\n  }\n\n  if (!name) {\n    name = internalInstance.constructor.displayName || 'No display name';\n    nodeType = 'Composite';\n  }\n\n  if (typeof props === 'string') {\n    nodeType = 'Text';\n    text = props;\n    props = null;\n    name = null;\n  }\n\n  if (internalInstance.forceUpdate) {\n    updater = {\n      canUpdate: true,\n      setState: internalInstance.setState.bind(internalInstance),\n      setInProps: internalInstance.forceUpdate && setInProps.bind(null, internalInstance),\n      setInState: internalInstance.forceUpdate && setInState.bind(null, internalInstance),\n      setInContext: internalInstance.forceUpdate && setInContext.bind(null, internalInstance),\n    };\n    publicInstance = internalInstance;\n  }\n\n  // $FlowFixMe\n  return {\n    nodeType,\n    type,\n    key,\n    ref,\n    source: null,\n    name,\n    props,\n    state,\n    context,\n    children,\n    text,\n    updater,\n    publicInstance,\n  };\n}\n\nfunction setInProps(inst, path: Array<string | number>, value: any) {\n  inst.props = copyWithSet(inst.props, path, value);\n  inst.forceUpdate();\n}\n\nfunction setInState(inst, path: Array<string | number>, value: any) {\n  setIn(inst.state, path, value);\n  inst.forceUpdate();\n}\n\nfunction setInContext(inst, path: Array<string | number>, value: any) {\n  setIn(inst.context, path, value);\n  inst.forceUpdate();\n}\n\nfunction setIn(obj: Object, path: Array<string | number>, value: any) {\n  var last = path.pop();\n  var parent = path.reduce((obj_, attr) => obj_ ? obj_[attr] : null, obj);\n  if (parent) {\n    parent[last] = value;\n  }\n}\n\nfunction childrenList(children) {\n  var res = [];\n  for (var name in children) {\n    res.push(children[name]);\n  }\n  return res;\n}\n\nmodule.exports = getData012;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nconst FB_MODULE_RE = /^(.*) \\[from (.*)\\]$/;\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\nfunction getDisplayName(type: Function, fallbackName: string = 'Unknown'): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  }\n\n  if (!displayName) {\n    displayName = type.name || fallbackName;\n  }\n\n  // Facebook-specific hack to turn \"Image [from Image.react]\" into just \"Image\".\n  // We need displayName with module name for error reports but it clutters the DevTools.\n  const match = displayName.match(FB_MODULE_RE);\n  if (match) {\n    const componentName = match[1];\n    const moduleName = match[2];\n    if (componentName && moduleName) {\n      if (\n        moduleName === componentName ||\n        moduleName.startsWith(componentName + '.')\n      ) {\n        displayName = componentName;\n      }\n    }\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nmodule.exports = getDisplayName;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nimport type {Hook} from './types';\n\n/**\n * NOTE: This file cannot `require` any other modules. We `.toString()` the\n *       function in some places and inject the source into the page.\n */\nfunction installGlobalHook(window: Object) {\n  if (window.__REACT_DEVTOOLS_GLOBAL_HOOK__) {\n    return;\n  }\n  function detectReactBuildType(renderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n      var toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        var renderRootCode = toString.call(renderer.Mount._renderNewRootComponent);\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  let hasDetectedBadDCE = false;\n  const hook = ({\n    // Shared between Stack and Fiber:\n    _renderers: {},\n    helpers: {},\n    cachedFiberTreeInfos: [],\n    checkDCE: function(fn) {\n      // This runs for production versions of React.\n      // Needs to be super safe.\n      try {\n        var toString = Function.prototype.toString;\n        var code = toString.call(fn);\n        // This is a string embedded in the passed function under DEV-only\n        // condition. However the function executes only in PROD. Therefore,\n        // if we see it, dead code elimination did not work.\n        if (code.indexOf('^_^') > -1) {\n          // Remember to report during next injection.\n          hasDetectedBadDCE = true;\n          // Bonus: throw an exception hoping that it gets picked up by\n          // a reporting system. Not synchronously so that it doesn't break the\n          // calling code.\n          setTimeout(function() {\n            throw new Error(\n              'React is running in production mode, but dead code ' +\n                'elimination has not been applied. Read how to correctly ' +\n                'configure React for production: ' +\n                'https://fb.me/react-perf-use-the-production-build'\n            );\n          });\n        }\n      } catch (err) { }\n    },\n    inject: function(renderer) {\n      var id = Math.random().toString(16).slice(2);\n      hook._renderers[id] = renderer;\n      var reactBuildType = hasDetectedBadDCE ?\n        'deadcode' :\n        detectReactBuildType(renderer);\n      hook.emit('renderer', {id, renderer, reactBuildType});\n      return id;\n    },\n    _listeners: {},\n    sub: function(evt, fn) {\n      hook.on(evt, fn);\n      return () => hook.off(evt, fn);\n    },\n    on: function(evt, fn) {\n      if (!hook._listeners[evt]) {\n        hook._listeners[evt] = [];\n      }\n      hook._listeners[evt].push(fn);\n    },\n    off: function(evt, fn) {\n      if (!hook._listeners[evt]) {\n        return;\n      }\n      var ix = hook._listeners[evt].indexOf(fn);\n      if (ix !== -1) {\n        hook._listeners[evt].splice(ix, 1);\n      }\n      if (!hook._listeners[evt].length) {\n        hook._listeners[evt] = null;\n      }\n    },\n    emit: function(evt, data) {\n      if (hook._listeners[evt]) {\n        hook._listeners[evt].map(fn => fn(data));\n      }\n    },\n    // Fiber-only:\n    supportsFiber: true,\n    _fiberRoots: {},\n    getFiberRoots(rendererID) {\n      const roots = hook._fiberRoots;\n      if (!roots[rendererID]) {\n        roots[rendererID] = new Set();\n      }\n      return roots[rendererID];\n    },\n    onCommitFiberUnmount: function(rendererID, fiber) {\n      // TODO: can we use hook for roots too?\n      if (hook.helpers[rendererID]) {\n        hook.helpers[rendererID].handleCommitFiberUnmount(fiber);\n      }\n    },\n    onCommitFiberRoot: function(rendererID, root) {\n      const mountedRoots = hook.getFiberRoots(rendererID);\n      const current = root.current;\n      const isKnownRoot = mountedRoots.has(root);\n      const isUnmounting = current.memoizedState == null || current.memoizedState.element == null;\n      // Keep track of mounted roots so we can hydrate when DevTools connect.\n      if (!isKnownRoot && !isUnmounting) {\n        mountedRoots.add(root);\n      } else if (isKnownRoot && isUnmounting) {\n        mountedRoots.delete(root);\n      }\n      if (hook.helpers[rendererID]) {\n        hook.helpers[rendererID].handleCommitFiberRoot(root);\n      }\n    },\n    sendFiberTree: function(rendererID, fiberTreeInfo) {\n        // TODO: can we use hook for roots too?\n        if (hook.helpers[rendererID]) {\n            hook.helpers[rendererID].handleSendFiberTree(fiberTreeInfo);\n        } else {\n            fiberTreeInfo.rendererID = rendererID;\n            hook.cachedFiberTreeInfos.push(fiberTreeInfo);\n        }\n    },\n      sendCachedFiberTree: function () {\n          hook.cachedFiberTreeInfos.forEach((fiberTreeInfo) => {\n              const {rendererID} = fiberTreeInfo;\n              if (hook.helpers[rendererID]) {\n                  hook.helpers[rendererID].handleSendFiberTree(fiberTreeInfo);\n              }\n          });\n          hook.cachedFiberTreeInfos = [];\n      },\n  });\n  Object.defineProperty(window, '__REACT_DEVTOOLS_GLOBAL_HOOK__', {\n    value: (hook : Hook),\n  });\n}\n\nmodule.exports = installGlobalHook;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n\nvar FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n// The Symbol used to tag the ReactElement type. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nconst REACT_ELEMENT_TYPE =\n  (\n    typeof Symbol === 'function'\n    && Symbol.for\n    && Symbol.for('react.element')\n  )\n  || 0xeac7;\n\n\n/**\n * Escape and wrap key so it is safe to use as a reactid\n *\n * @param {string} key to be escaped.\n * @return {string} the escaped key.\n */\nfunction escape(key: string): string {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2',\n  };\n  var escapedString = ('' + key).replace(escapeRegex, function(match) {\n    return escaperLookup[match];\n  });\n\n  return '$' + escapedString;\n}\n\n/**\n * Generate a key string that identifies a component within a set.\n *\n * @param {*} component A component that could contain a manual key.\n * @param {number} index Index that is used if a manual key is not provided.\n * @return {string}\n */\nfunction getComponentKey(component, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (\n    typeof component === 'object' &&\n    component !== null &&\n    component.key != null\n  ) {\n    // Explicit key\n    return escape(component.key);\n  }\n  // Implicit key determined by the index in the set\n  return index.toString(36);\n}\n\n/**\n * We do a copied the 'traverseAllChildrenImpl' method from\n * `React.Children` so that we don't pull in the whole React library.\n * @param {?*} children Children tree container.\n * @param {!string} nameSoFar Name of the key path so far.\n * @param {!function} callback Callback to invoke with each child found.\n * @param {?*} traverseContext Used to pass information throughout the traversal\n * process.\n * @return {!number} The number of children in this subtree.\n */\nfunction traverseAllChildrenImpl(\n  children: any,\n  nameSoFar: string,\n  callback: Function,\n  traverseContext: any\n): number {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  if (\n    children === null ||\n    type === 'string' ||\n    type === 'number' ||\n    // The following is inlined from ReactElement. This means we can optimize\n    // some checks. React Fiber also inlines this logic for similar purposes.\n    (type === 'object' && children.$$typeof === REACT_ELEMENT_TYPE)\n  ) {\n    callback(\n      traverseContext,\n      children,\n      // If it's the only child, treat the name as if it was wrapped in an array\n      // so that it's consistent if the number of children grows.\n      nameSoFar === '' ? SEPARATOR + getComponentKey(children, 0) : nameSoFar,\n    );\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getComponentKey(child, i);\n      subtreeCount += traverseAllChildrenImpl(\n        child,\n        nextName,\n        callback,\n        traverseContext,\n      );\n    }\n  } else {\n    var iteratorFn =\n      (ITERATOR_SYMBOL && children[ITERATOR_SYMBOL]) ||\n      children[FAUX_ITERATOR_SYMBOL];\n    if (typeof iteratorFn === 'function') {\n      var iterator = iteratorFn.call(children);\n      var step;\n      var ii = 0;\n      while (!(step = iterator.next()).done) {\n        child = step.value;\n        nextName = nextNamePrefix + getComponentKey(child, ii++);\n        subtreeCount += traverseAllChildrenImpl(\n          child,\n          nextName,\n          callback,\n          traverseContext,\n        );\n      }\n    } else if (type === 'object') {\n      var addendum =\n        ' If you meant to render a collection of children, use an array ' +\n          'instead.';\n      var childrenString = '' + children;\n      invariant(\n        false,\n        'The React Devtools cannot render an object as a child. (found: %s).%s',\n        childrenString === '[object Object]'\n          ? 'object with keys {' + Object.keys(children).join(', ') + '}'\n          : childrenString,\n        addendum,\n      );\n    }\n  }\n\n  return subtreeCount;\n}\n\nmodule.exports = traverseAllChildrenImpl;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nimport type {DOMNode, DOMEvent} from '../types';\n\nvar Overlay = require('./Overlay');\nvar MultiOverlay = require('./MultiOverlay');\n\n/**\n * Manages the highlighting of items on an html page, as well as\n * hover-to-inspect.\n */\nclass Highlighter {\n  _overlay: ?Overlay;\n  _multiOverlay: ?MultiOverlay;\n  _win: Object;\n  _onSelect: (node: DOMNode) => void;\n  _inspecting: boolean;\n  _subs: Array<() => void>;\n  _button: DOMNode;\n\n  constructor(win: Object, onSelect: (node: DOMNode) => void) {\n    this._win = win;\n    this._onSelect = onSelect;\n    this._overlay = null;\n    this._multiOverlay = null;\n    this._subs = [];\n  }\n\n  startInspecting() {\n    this._inspecting = true;\n    this._subs = [\n      captureSubscription(this._win, 'mouseover', this.onHover.bind(this)),\n      captureSubscription(this._win, 'mousedown', this.onMouseDown.bind(this)),\n      captureSubscription(this._win, 'click', this.onClick.bind(this)),\n    ];\n  }\n\n  stopInspecting() {\n    this._subs.forEach(unsub => unsub());\n    this.hideHighlight();\n  }\n\n  remove() {\n    this.stopInspecting();\n    if (this._button && this._button.parentNode) {\n      this._button.parentNode.removeChild(this._button);\n    }\n  }\n\n  highlight(node: DOMNode, name?: string) {\n    this.removeMultiOverlay();\n    if (node.nodeType !== Node.COMMENT_NODE) {\n      if (!this._overlay) {\n        this._overlay = new Overlay(this._win);\n      }\n      this._overlay.inspect(node, name);\n    }\n  }\n\n  highlightMany(nodes: Array<DOMNode>) {\n    this.removeOverlay();\n    if (!this._multiOverlay) {\n      this._multiOverlay = new MultiOverlay(this._win);\n    }\n    this._multiOverlay.highlightMany(nodes);\n  }\n\n  hideHighlight() {\n    this._inspecting = false;\n    this.removeOverlay();\n    this.removeMultiOverlay();\n  }\n\n  refreshMultiOverlay() {\n    if (!this._multiOverlay) {\n      return;\n    }\n    this._multiOverlay.refresh();\n  }\n\n  removeOverlay() {\n    if (!this._overlay) {\n      return;\n    }\n    this._overlay.remove();\n    this._overlay = null;\n  }\n\n  removeMultiOverlay() {\n    if (!this._multiOverlay) {\n      return;\n    }\n    this._multiOverlay.remove();\n    this._multiOverlay = null;\n  }\n\n  onMouseDown(evt: DOMEvent) {\n    if (!this._inspecting) {\n      return;\n    }\n    evt.preventDefault();\n    evt.stopPropagation();\n    evt.cancelBubble = true;\n    this._onSelect(evt.target);\n  }\n\n  onClick(evt: DOMEvent) {\n    if (!this._inspecting) {\n      return;\n    }\n    this._subs.forEach(unsub => unsub());\n    evt.preventDefault();\n    evt.stopPropagation();\n    evt.cancelBubble = true;\n    this.hideHighlight();\n  }\n\n  onHover(evt: DOMEvent) {\n    if (!this._inspecting) {\n      return;\n    }\n    evt.preventDefault();\n    evt.stopPropagation();\n    evt.cancelBubble = true;\n    this.highlight(evt.target);\n  }\n\n  injectButton() {\n    this._button = makeMagnifier();\n    this._button.onclick = this.startInspecting.bind(this);\n    this._win.document.body.appendChild(this._button);\n  }\n}\n\nfunction captureSubscription(obj, evt, cb) {\n  obj.addEventListener(evt, cb, true);\n  return () => obj.removeEventListener(evt, cb, true);\n}\n\nfunction makeMagnifier() {\n  var button = window.document.createElement('button');\n  button.innerHTML = '&#128269;';\n  button.style.backgroundColor = 'transparent';\n  button.style.border = 'none';\n  button.style.outline = 'none';\n  button.style.cursor = 'pointer';\n  button.style.position = 'fixed';\n  button.style.bottom = '10px';\n  button.style.right = '10px';\n  button.style.fontSize = '30px';\n  button.style.zIndex = 10000000;\n  return button;\n}\n\nmodule.exports = Highlighter;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar assign = require('object-assign');\n\nimport type {DOMNode} from '../types';\n\nclass MultiOverlay {\n  win: Object;\n  container: DOMNode;\n  _currentNodes: ?Array<DOMNode>;\n\n  constructor(window: Object) {\n    this.win = window;\n    var doc = window.document;\n    this.container = doc.createElement('div');\n    doc.body.appendChild(this.container);\n    this._currentNodes = null;\n  }\n\n  highlightMany(nodes: Array<DOMNode>) {\n    this._currentNodes = nodes;\n    this.container.innerHTML = '';\n\n    nodes.forEach(node => {\n      var div = this.win.document.createElement('div');\n      if (typeof node.getBoundingClientRect !== 'function') {\n        return;\n      }\n      var box = node.getBoundingClientRect();\n      if (box.bottom < 0 || box.top > window.innerHeight) {\n        return;\n      }\n      assign(div.style, {\n        top: box.top + 'px',\n        left: box.left + 'px',\n        width: box.width + 'px',\n        height: box.height + 'px',\n        border: '2px dotted rgba(200, 100, 100, .8)',\n        boxSizing: 'border-box',\n        backgroundColor: 'rgba(200, 100, 100, .2)',\n        position: 'fixed',\n        zIndex: 10000000,\n        pointerEvents: 'none',\n      });\n      this.container.appendChild(div);\n    });\n  }\n\n  refresh() {\n    if (this._currentNodes) {\n      this.highlightMany(this._currentNodes);\n    }\n  }\n\n  remove() {\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n      this._currentNodes = null;\n    }\n  }\n}\n\nmodule.exports = MultiOverlay;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar assign = require('object-assign');\nvar {monospace} = require('../Themes/Fonts');\n\nimport type {DOMNode, DOMRect, Window} from '../types';\n\n/**\n * Note that this component is not affected by the active Theme,\n * Because it highlights elements in the main Chrome window (outside of devtools).\n * The colors below were chosen to roughly match those used by Chrome devtools.\n */\nclass Overlay {\n  win: Object;\n  container: DOMNode;\n  node: DOMNode;\n  border: DOMNode;\n  padding: DOMNode;\n  content: DOMNode;\n  tip: DOMNode;\n  nameSpan: DOMNode;\n  dimSpan: DOMNode;\n\n  constructor(window: Object) {\n    var doc = window.document;\n    this.win = window;\n    this.container = doc.createElement('div');\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily: monospace.family,\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      position: 'fixed',\n      fontSize: monospace.sizes.normal + 'px',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color:   '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.container.style.zIndex = 10000000;\n    this.node.style.zIndex = 10000000;\n    this.tip.style.zIndex = 10000000;\n    this.container.appendChild(this.node);\n    this.container.appendChild(this.tip);\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(node: DOMNode, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n      return;\n    }\n    var box = getNestedBoundingClientRect(node, this.win);\n    var dims = getElementDimensions(node);\n\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height: box.height - dims.borderTop - dims.borderBottom - dims.paddingTop - dims.paddingBottom + 'px',\n      width: box.width - dims.borderLeft - dims.borderRight - dims.paddingLeft - dims.paddingRight + 'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n\n    this.nameSpan.textContent = (name || node.nodeName.toLowerCase());\n    this.dimSpan.textContent = box.width + 'px  ' + box.height + 'px';\n\n    var tipPos = findTipPos({\n      top: box.top - dims.marginTop,\n      left: box.left - dims.marginLeft,\n      height: box.height + dims.marginTop + dims.marginBottom,\n      width: box.width + dims.marginLeft + dims.marginRight,\n    }, this.win);\n    assign(this.tip.style, tipPos);\n  }\n}\n\nfunction findTipPos(dims, win) {\n  var tipHeight = 20;\n  var margin = 5;\n  var top;\n  if (dims.top + dims.height + tipHeight <= win.innerHeight) {\n    if (dims.top + dims.height < 0) {\n      top = margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= win.innerHeight) {\n    if (dims.top - tipHeight - margin < margin) {\n      top = margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = win.innerHeight - tipHeight - margin;\n  }\n\n  top += 'px';\n\n  if (dims.left < 0) {\n    return {top, left: margin};\n  }\n  if (dims.left + 200 > win.innerWidth) {\n    return {top, right: margin};\n  }\n  return {top, left: dims.left + margin + 'px'};\n}\n\nfunction getElementDimensions(domElement) {\n  var calculatedStyle = window.getComputedStyle(domElement);\n\n  return {\n    borderLeft: +calculatedStyle.borderLeftWidth.match(/[0-9]*/)[0],\n    borderRight: +calculatedStyle.borderRightWidth.match(/[0-9]*/)[0],\n    borderTop: +calculatedStyle.borderTopWidth.match(/[0-9]*/)[0],\n    borderBottom: +calculatedStyle.borderBottomWidth.match(/[0-9]*/)[0],\n    marginLeft: +calculatedStyle.marginLeft.match(/[0-9]*/)[0],\n    marginRight: +calculatedStyle.marginRight.match(/[0-9]*/)[0],\n    marginTop: +calculatedStyle.marginTop.match(/[0-9]*/)[0],\n    marginBottom: +calculatedStyle.marginBottom.match(/[0-9]*/)[0],\n    paddingLeft: +calculatedStyle.paddingLeft.match(/[0-9]*/)[0],\n    paddingRight: +calculatedStyle.paddingRight.match(/[0-9]*/)[0],\n    paddingTop: +calculatedStyle.paddingTop.match(/[0-9]*/)[0],\n    paddingBottom: +calculatedStyle.paddingBottom.match(/[0-9]*/)[0],\n  };\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nfunction getOwnerWindow(node: DOMNode): Window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nfunction getOwnerIframe(node: DOMNode): DOMNode | null {\n  var nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nfunction getBoundingClientRectWithBorderOffset(node: DOMNode) {\n  var dimensions = getElementDimensions(node);\n\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object typechecks as a DOMRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each DOMRect, but keep the width and height of the first one.\nfunction mergeRectOffsets(rects: Array<DOMRect>): DOMRect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nfunction getNestedBoundingClientRect(node: DOMNode, boundaryWindow: Window): DOMRect {\n  var ownerIframe = getOwnerIframe(node);\n  if (\n    ownerIframe &&\n    ownerIframe !== boundaryWindow\n  ) {\n    var rects = [node.getBoundingClientRect()];\n    var currentIframe = ownerIframe;\n    var onlyOneMore = false;\n    while (currentIframe) {\n      var rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nfunction boxWrap(dims, what, node) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nvar overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n\nmodule.exports = Overlay;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar Highlighter = require('./Highlighter');\n\nimport type Agent from '../../agent/Agent';\n\nmodule.exports = function setup(agent: Agent) {\n  var hl = new Highlighter(window, node => {\n    agent.selectFromDOMNode(node);\n  });\n  agent.on('highlight', data => hl.highlight(data.node, data.name));\n  agent.on('highlightMany', nodes => hl.highlightMany(nodes));\n  agent.on('hideHighlight', () => hl.hideHighlight());\n  agent.on('refreshMultiOverlay', () => hl.refreshMultiOverlay());\n  agent.on('startInspecting', () => hl.startInspecting());\n  agent.on('stopInspecting', () => hl.stopInspecting());\n  agent.on('shutdown', () => {\n    hl.remove();\n  });\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nmodule.exports = {\n  monospace: {\n    family: 'Menlo, Consolas, monospace',\n    sizes: {\n      normal: 11,\n      large: 14,\n    },\n  },\n  sansSerif: {\n    family: '\"Helvetica Neue\", \"Lucida Grande\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Ubuntu, sans-serif',\n    sizes: {\n      small: 10,\n      normal: 12,\n      large: 14,\n    },\n  },\n};\n","'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","'use strict';\n\nvar assign        = require('es5-ext/object/assign')\n  , normalizeOpts = require('es5-ext/object/normalize-options')\n  , isCallable    = require('es5-ext/object/is-callable')\n  , contains      = require('es5-ext/string/#/contains')\n\n  , d;\n\nd = module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif ((arguments.length < 2) || (typeof dscr !== 'string')) {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (dscr == null) {\n\t\tc = w = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t\tw = contains.call(dscr, 'w');\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== 'string') {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (get == null) {\n\t\tget = undefined;\n\t} else if (!isCallable(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (set == null) {\n\t\tset = undefined;\n\t} else if (!isCallable(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (dscr == null) {\n\t\tc = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+\\:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code\\])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[\\(\\)]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g, '');\n                }\n                var tokens = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').split(/\\s+/).slice(1);\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                        .replace(/\\([^\\)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^\\)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^\\(]+\\(([^\\)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? Object.assign\n\t: require('./shim');\n","'use strict';\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== 'function') return false;\n\tobj = { foo: 'raz' };\n\tassign(obj, { bar: 'dwa' }, { trzy: 'trzy' });\n\treturn (obj.foo + obj.bar + obj.trzy) === 'razdwatrzy';\n};\n","'use strict';\n\nvar keys  = require('../keys')\n  , value = require('../valid-value')\n\n  , max = Math.max;\n\nmodule.exports = function (dest, src/*, srcn*/) {\n\tvar error, i, l = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry { dest[key] = src[key]; } catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < l; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","// Deprecated\n\n'use strict';\n\nmodule.exports = function (obj) { return typeof obj === 'function'; };\n","'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? Object.keys\n\t: require('./shim');\n","'use strict';\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys('primitive');\n\t\treturn true;\n\t} catch (e) { return false; }\n};\n","'use strict';\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) {\n\treturn keys(object == null ? object : Object(object));\n};\n","'use strict';\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\nmodule.exports = function (options/*, options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (options == null) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","'use strict';\n\nmodule.exports = function (value) {\n\tif (value == null) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')()\n\t? String.prototype.contains\n\t: require('./shim');\n","'use strict';\n\nvar str = 'razdwatrzy';\n\nmodule.exports = function () {\n\tif (typeof str.contains !== 'function') return false;\n\treturn ((str.contains('dwa') === true) && (str.contains('foo') === false));\n};\n","'use strict';\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","'use strict';\n\nmodule.exports = require('./is-implemented')() ? Symbol : require('./polyfill');\n","'use strict';\n\nmodule.exports = function () {\n\tvar symbol;\n\tif (typeof Symbol !== 'function') return false;\n\tsymbol = Symbol('test symbol');\n\ttry { String(symbol); } catch (e) { return false; }\n\tif (typeof Symbol.iterator === 'symbol') return true;\n\n\t// Return 'true' for polyfills\n\tif (typeof Symbol.isConcatSpreadable !== 'object') return false;\n\tif (typeof Symbol.iterator !== 'object') return false;\n\tif (typeof Symbol.toPrimitive !== 'object') return false;\n\tif (typeof Symbol.toStringTag !== 'object') return false;\n\tif (typeof Symbol.unscopables !== 'object') return false;\n\n\treturn true;\n};\n","'use strict';\n\nmodule.exports = function (x) {\n\treturn (x && ((typeof x === 'symbol') || (x['@@toStringTag'] === 'Symbol'))) || false;\n};\n","// ES2015 Symbol polyfill for environments that do not support it (or partially support it_\n\n'use strict';\n\nvar d              = require('d')\n  , validateSymbol = require('./validate-symbol')\n\n  , create = Object.create, defineProperties = Object.defineProperties\n  , defineProperty = Object.defineProperty, objPrototype = Object.prototype\n  , NativeSymbol, SymbolPolyfill, HiddenSymbol, globalSymbols = create(null);\n\nif (typeof Symbol === 'function') NativeSymbol = Symbol;\n\nvar generateName = (function () {\n\tvar created = create(null);\n\treturn function (desc) {\n\t\tvar postfix = 0, name, ie11BugWorkaround;\n\t\twhile (created[desc + (postfix || '')]) ++postfix;\n\t\tdesc += (postfix || '');\n\t\tcreated[desc] = true;\n\t\tname = '@@' + desc;\n\t\tdefineProperty(objPrototype, name, d.gs(null, function (value) {\n\t\t\t// For IE11 issue see:\n\t\t\t// https://connect.microsoft.com/IE/feedbackdetail/view/1928508/\n\t\t\t//    ie11-broken-getters-on-dom-objects\n\t\t\t// https://github.com/medikoo/es6-symbol/issues/12\n\t\t\tif (ie11BugWorkaround) return;\n\t\t\tie11BugWorkaround = true;\n\t\t\tdefineProperty(this, name, d(value));\n\t\t\tie11BugWorkaround = false;\n\t\t}));\n\t\treturn name;\n\t};\n}());\n\n// Internal constructor (not one exposed) for creating Symbol instances.\n// This one is used to ensure that `someSymbol instanceof Symbol` always return false\nHiddenSymbol = function Symbol(description) {\n\tif (this instanceof HiddenSymbol) throw new TypeError('TypeError: Symbol is not a constructor');\n\treturn SymbolPolyfill(description);\n};\n\n// Exposed `Symbol` constructor\n// (returns instances of HiddenSymbol)\nmodule.exports = SymbolPolyfill = function Symbol(description) {\n\tvar symbol;\n\tif (this instanceof Symbol) throw new TypeError('TypeError: Symbol is not a constructor');\n\tsymbol = create(HiddenSymbol.prototype);\n\tdescription = (description === undefined ? '' : String(description));\n\treturn defineProperties(symbol, {\n\t\t__description__: d('', description),\n\t\t__name__: d('', generateName(description))\n\t});\n};\ndefineProperties(SymbolPolyfill, {\n\tfor: d(function (key) {\n\t\tif (globalSymbols[key]) return globalSymbols[key];\n\t\treturn (globalSymbols[key] = SymbolPolyfill(String(key)));\n\t}),\n\tkeyFor: d(function (s) {\n\t\tvar key;\n\t\tvalidateSymbol(s);\n\t\tfor (key in globalSymbols) if (globalSymbols[key] === s) return key;\n\t}),\n\n\t// If there's native implementation of given symbol, let's fallback to it\n\t// to ensure proper interoperability with other native functions e.g. Array.from\n\thasInstance: d('', (NativeSymbol && NativeSymbol.hasInstance) || SymbolPolyfill('hasInstance')),\n\tisConcatSpreadable: d('', (NativeSymbol && NativeSymbol.isConcatSpreadable) ||\n\t\tSymbolPolyfill('isConcatSpreadable')),\n\titerator: d('', (NativeSymbol && NativeSymbol.iterator) || SymbolPolyfill('iterator')),\n\tmatch: d('', (NativeSymbol && NativeSymbol.match) || SymbolPolyfill('match')),\n\treplace: d('', (NativeSymbol && NativeSymbol.replace) || SymbolPolyfill('replace')),\n\tsearch: d('', (NativeSymbol && NativeSymbol.search) || SymbolPolyfill('search')),\n\tspecies: d('', (NativeSymbol && NativeSymbol.species) || SymbolPolyfill('species')),\n\tsplit: d('', (NativeSymbol && NativeSymbol.split) || SymbolPolyfill('split')),\n\ttoPrimitive: d('', (NativeSymbol && NativeSymbol.toPrimitive) || SymbolPolyfill('toPrimitive')),\n\ttoStringTag: d('', (NativeSymbol && NativeSymbol.toStringTag) || SymbolPolyfill('toStringTag')),\n\tunscopables: d('', (NativeSymbol && NativeSymbol.unscopables) || SymbolPolyfill('unscopables'))\n});\n\n// Internal tweaks for real symbol producer\ndefineProperties(HiddenSymbol.prototype, {\n\tconstructor: d(SymbolPolyfill),\n\ttoString: d('', function () { return this.__name__; })\n});\n\n// Proper implementation of methods exposed on Symbol.prototype\n// They won't be accessible on produced symbol instances as they derive from HiddenSymbol.prototype\ndefineProperties(SymbolPolyfill.prototype, {\n\ttoString: d(function () { return 'Symbol (' + validateSymbol(this).__description__ + ')'; }),\n\tvalueOf: d(function () { return validateSymbol(this); })\n});\ndefineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toPrimitive, d('',\n\tfunction () { return validateSymbol(this); }));\ndefineProperty(SymbolPolyfill.prototype, SymbolPolyfill.toStringTag, d('c', 'Symbol'));\n\n// Proper implementaton of toPrimitive and toStringTag for returned symbol instances\ndefineProperty(HiddenSymbol.prototype, SymbolPolyfill.toStringTag,\n\td('c', SymbolPolyfill.prototype[SymbolPolyfill.toStringTag]));\n\n// Note: It's important to define `toPrimitive` as last one, as some implementations\n// implement `toPrimitive` natively without implementing `toStringTag` (or other specified symbols)\n// And that may invoke error in definition flow:\n// See: https://github.com/medikoo/es6-symbol/issues/13#issuecomment-164146149\ndefineProperty(HiddenSymbol.prototype, SymbolPolyfill.toPrimitive,\n\td('c', SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]));\n","'use strict';\n\nvar isSymbol = require('./is-symbol');\n\nmodule.exports = function (value) {\n\tif (!isSymbol(value)) throw new TypeError(value + \" is not a symbol\");\n\treturn value;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ExecutionEnvironment\n */\n\n'use strict';\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners: canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule invariant\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule performance\n * @typechecks\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar performance;\n\nif (ExecutionEnvironment.canUseDOM) {\n  performance = window.performance || window.msPerformance || window.webkitPerformance;\n}\n\nmodule.exports = performance || {};","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule performanceNow\n * @typechecks\n */\n\n'use strict';\n\nvar performance = require('./performance');\n\nvar performanceNow;\n\n/**\n * Detect if we can use `window.performance.now()` and gracefully fallback to\n * `Date.now()` if it doesn't exist. We need to support Firefox < 15 for now\n * because of Facebook's testing infrastructure.\n */\nif (performance.now) {\n  performanceNow = function () {\n    return performance.now();\n  };\n} else {\n  performanceNow = function () {\n    return Date.now();\n  };\n}\n\nmodule.exports = performanceNow;","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {value: true});\n\nexports.default = function nullthrows(x) {\n  if (x != null) {\n    return x;\n  }\n  throw new Error('Got unexpected null or undefined');\n};\n","/* eslint-disable no-unused-vars */\n'use strict';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getOwnPropertySymbols) {\n\t\t\tsymbols = Object.getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","exports = module.exports = SemVer;\n\n// The debug function is excluded entirely from the minified version.\n/* nomin */ var debug;\n/* nomin */ if (typeof process === 'object' &&\n    /* nomin */ process.env &&\n    /* nomin */ process.env.NODE_DEBUG &&\n    /* nomin */ /\\bsemver\\b/i.test(process.env.NODE_DEBUG))\n  /* nomin */ debug = function() {\n    /* nomin */ var args = Array.prototype.slice.call(arguments, 0);\n    /* nomin */ args.unshift('SEMVER');\n    /* nomin */ console.log.apply(console, args);\n    /* nomin */ };\n/* nomin */ else\n  /* nomin */ debug = function() {};\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0';\n\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\n\n// The actual regexps go on exports.re\nvar re = exports.re = [];\nvar src = exports.src = [];\nvar R = 0;\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++;\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\nvar NUMERICIDENTIFIERLOOSE = R++;\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+';\n\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++;\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\n\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++;\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')';\n\nvar MAINVERSIONLOOSE = R++;\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')';\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++;\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')';\n\nvar PRERELEASEIDENTIFIERLOOSE = R++;\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')';\n\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++;\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))';\n\nvar PRERELEASELOOSE = R++;\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))';\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++;\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+';\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++;\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))';\n\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++;\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?';\n\nsrc[FULL] = '^' + FULLPLAIN + '$';\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?';\n\nvar LOOSE = R++;\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$';\n\nvar GTLT = R++;\nsrc[GTLT] = '((?:<|>)?=?)';\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++;\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\nvar XRANGEIDENTIFIER = R++;\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*';\n\nvar XRANGEPLAIN = R++;\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?';\n\nvar XRANGEPLAINLOOSE = R++;\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?';\n\nvar XRANGE = R++;\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$';\nvar XRANGELOOSE = R++;\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$';\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++;\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])';\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++;\nsrc[LONETILDE] = '(?:~>?)';\n\nvar TILDETRIM = R++;\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+';\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');\nvar tildeTrimReplace = '$1~';\n\nvar TILDE = R++;\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';\nvar TILDELOOSE = R++;\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$';\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++;\nsrc[LONECARET] = '(?:\\\\^)';\n\nvar CARETTRIM = R++;\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+';\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');\nvar caretTrimReplace = '$1^';\n\nvar CARET = R++;\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';\nvar CARETLOOSE = R++;\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$';\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++;\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$';\nvar COMPARATOR = R++;\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$';\n\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++;\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')';\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');\nvar comparatorTrimReplace = '$1$2$3';\n\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++;\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$';\n\nvar HYPHENRANGELOOSE = R++;\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$';\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++;\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*';\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i]);\n  if (!re[i])\n    re[i] = new RegExp(src[i]);\n}\n\nexports.parse = parse;\nfunction parse(version, loose) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  if (version.length > MAX_LENGTH)\n    return null;\n\n  var r = loose ? re[LOOSE] : re[FULL];\n  if (!r.test(version))\n    return null;\n\n  try {\n    return new SemVer(version, loose);\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.valid = valid;\nfunction valid(version, loose) {\n  var v = parse(version, loose);\n  return v ? v.version : null;\n}\n\n\nexports.clean = clean;\nfunction clean(version, loose) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), loose);\n  return s ? s.version : null;\n}\n\nexports.SemVer = SemVer;\n\nfunction SemVer(version, loose) {\n  if (version instanceof SemVer) {\n    if (version.loose === loose)\n      return version;\n    else\n      version = version.version;\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version);\n  }\n\n  if (version.length > MAX_LENGTH)\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n\n  if (!(this instanceof SemVer))\n    return new SemVer(version, loose);\n\n  debug('SemVer', version, loose);\n  this.loose = loose;\n  var m = version.trim().match(loose ? re[LOOSE] : re[FULL]);\n\n  if (!m)\n    throw new TypeError('Invalid Version: ' + version);\n\n  this.raw = version;\n\n  // these are actually numbers\n  this.major = +m[1];\n  this.minor = +m[2];\n  this.patch = +m[3];\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0)\n    throw new TypeError('Invalid major version')\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0)\n    throw new TypeError('Invalid minor version')\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0)\n    throw new TypeError('Invalid patch version')\n\n  // numberify any prerelease numeric ids\n  if (!m[4])\n    this.prerelease = [];\n  else\n    this.prerelease = m[4].split('.').map(function(id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id;\n        if (num >= 0 && num < MAX_SAFE_INTEGER)\n          return num;\n      }\n      return id;\n    });\n\n  this.build = m[5] ? m[5].split('.') : [];\n  this.format();\n}\n\nSemVer.prototype.format = function() {\n  this.version = this.major + '.' + this.minor + '.' + this.patch;\n  if (this.prerelease.length)\n    this.version += '-' + this.prerelease.join('.');\n  return this.version;\n};\n\nSemVer.prototype.toString = function() {\n  return this.version;\n};\n\nSemVer.prototype.compare = function(other) {\n  debug('SemVer.compare', this.version, this.loose, other);\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return this.compareMain(other) || this.comparePre(other);\n};\n\nSemVer.prototype.compareMain = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch);\n};\n\nSemVer.prototype.comparePre = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length)\n    return -1;\n  else if (!this.prerelease.length && other.prerelease.length)\n    return 1;\n  else if (!this.prerelease.length && !other.prerelease.length)\n    return 0;\n\n  var i = 0;\n  do {\n    var a = this.prerelease[i];\n    var b = other.prerelease[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined)\n      return 0;\n    else if (b === undefined)\n      return 1;\n    else if (a === undefined)\n      return -1;\n    else if (a === b)\n      continue;\n    else\n      return compareIdentifiers(a, b);\n  } while (++i);\n};\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function(release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor = 0;\n      this.major++;\n      this.inc('pre', identifier);\n      break;\n    case 'preminor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor++;\n      this.inc('pre', identifier);\n      break;\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0;\n      this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0)\n        this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0)\n        this.major++;\n      this.minor = 0;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0)\n        this.minor++;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0)\n        this.patch++;\n      this.prerelease = [];\n      break;\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0)\n        this.prerelease = [0];\n      else {\n        var i = this.prerelease.length;\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++;\n            i = -2;\n          }\n        }\n        if (i === -1) // didn't increment anything\n          this.prerelease.push(0);\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1]))\n            this.prerelease = [identifier, 0];\n        } else\n          this.prerelease = [identifier, 0];\n      }\n      break;\n\n    default:\n      throw new Error('invalid increment argument: ' + release);\n  }\n  this.format();\n  this.raw = this.version;\n  return this;\n};\n\nexports.inc = inc;\nfunction inc(version, release, loose, identifier) {\n  if (typeof(loose) === 'string') {\n    identifier = loose;\n    loose = undefined;\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version;\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.diff = diff;\nfunction diff(version1, version2) {\n  if (eq(version1, version2)) {\n    return null;\n  } else {\n    var v1 = parse(version1);\n    var v2 = parse(version2);\n    if (v1.prerelease.length || v2.prerelease.length) {\n      for (var key in v1) {\n        if (key === 'major' || key === 'minor' || key === 'patch') {\n          if (v1[key] !== v2[key]) {\n            return 'pre'+key;\n          }\n        }\n      }\n      return 'prerelease';\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return key;\n        }\n      }\n    }\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers;\n\nvar numeric = /^[0-9]+$/;\nfunction compareIdentifiers(a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return (anum && !bnum) ? -1 :\n         (bnum && !anum) ? 1 :\n         a < b ? -1 :\n         a > b ? 1 :\n         0;\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers;\nfunction rcompareIdentifiers(a, b) {\n  return compareIdentifiers(b, a);\n}\n\nexports.major = major;\nfunction major(a, loose) {\n  return new SemVer(a, loose).major;\n}\n\nexports.minor = minor;\nfunction minor(a, loose) {\n  return new SemVer(a, loose).minor;\n}\n\nexports.patch = patch;\nfunction patch(a, loose) {\n  return new SemVer(a, loose).patch;\n}\n\nexports.compare = compare;\nfunction compare(a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose));\n}\n\nexports.compareLoose = compareLoose;\nfunction compareLoose(a, b) {\n  return compare(a, b, true);\n}\n\nexports.rcompare = rcompare;\nfunction rcompare(a, b, loose) {\n  return compare(b, a, loose);\n}\n\nexports.sort = sort;\nfunction sort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.compare(a, b, loose);\n  });\n}\n\nexports.rsort = rsort;\nfunction rsort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.rcompare(a, b, loose);\n  });\n}\n\nexports.gt = gt;\nfunction gt(a, b, loose) {\n  return compare(a, b, loose) > 0;\n}\n\nexports.lt = lt;\nfunction lt(a, b, loose) {\n  return compare(a, b, loose) < 0;\n}\n\nexports.eq = eq;\nfunction eq(a, b, loose) {\n  return compare(a, b, loose) === 0;\n}\n\nexports.neq = neq;\nfunction neq(a, b, loose) {\n  return compare(a, b, loose) !== 0;\n}\n\nexports.gte = gte;\nfunction gte(a, b, loose) {\n  return compare(a, b, loose) >= 0;\n}\n\nexports.lte = lte;\nfunction lte(a, b, loose) {\n  return compare(a, b, loose) <= 0;\n}\n\nexports.cmp = cmp;\nfunction cmp(a, op, b, loose) {\n  var ret;\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a === b;\n      break;\n    case '!==':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a !== b;\n      break;\n    case '': case '=': case '==': ret = eq(a, b, loose); break;\n    case '!=': ret = neq(a, b, loose); break;\n    case '>': ret = gt(a, b, loose); break;\n    case '>=': ret = gte(a, b, loose); break;\n    case '<': ret = lt(a, b, loose); break;\n    case '<=': ret = lte(a, b, loose); break;\n    default: throw new TypeError('Invalid operator: ' + op);\n  }\n  return ret;\n}\n\nexports.Comparator = Comparator;\nfunction Comparator(comp, loose) {\n  if (comp instanceof Comparator) {\n    if (comp.loose === loose)\n      return comp;\n    else\n      comp = comp.value;\n  }\n\n  if (!(this instanceof Comparator))\n    return new Comparator(comp, loose);\n\n  debug('comparator', comp, loose);\n  this.loose = loose;\n  this.parse(comp);\n\n  if (this.semver === ANY)\n    this.value = '';\n  else\n    this.value = this.operator + this.semver.version;\n\n  debug('comp', this);\n}\n\nvar ANY = {};\nComparator.prototype.parse = function(comp) {\n  var r = this.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var m = comp.match(r);\n\n  if (!m)\n    throw new TypeError('Invalid comparator: ' + comp);\n\n  this.operator = m[1];\n  if (this.operator === '=')\n    this.operator = '';\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2])\n    this.semver = ANY;\n  else\n    this.semver = new SemVer(m[2], this.loose);\n};\n\nComparator.prototype.toString = function() {\n  return this.value;\n};\n\nComparator.prototype.test = function(version) {\n  debug('Comparator.test', version, this.loose);\n\n  if (this.semver === ANY)\n    return true;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  return cmp(version, this.operator, this.semver, this.loose);\n};\n\nComparator.prototype.intersects = function(comp, loose) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required');\n  }\n\n  var rangeTmp;\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, loose);\n    return satisfies(this.value, rangeTmp, loose);\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, loose);\n    return satisfies(comp.semver, rangeTmp, loose);\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>');\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<');\n  var sameSemVer = this.semver.version === comp.semver.version;\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=');\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, loose) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'));\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, loose) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'));\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n};\n\n\nexports.Range = Range;\nfunction Range(range, loose) {\n  if (range instanceof Range) {\n    if (range.loose === loose) {\n      return range;\n    } else {\n      return new Range(range.raw, loose);\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, loose);\n  }\n\n  if (!(this instanceof Range))\n    return new Range(range, loose);\n\n  this.loose = loose;\n\n  // First, split based on boolean or ||\n  this.raw = range;\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function(range) {\n    return this.parseRange(range.trim());\n  }, this).filter(function(c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length;\n  });\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range);\n  }\n\n  this.format();\n}\n\nRange.prototype.format = function() {\n  this.range = this.set.map(function(comps) {\n    return comps.join(' ').trim();\n  }).join('||').trim();\n  return this.range;\n};\n\nRange.prototype.toString = function() {\n  return this.range;\n};\n\nRange.prototype.parseRange = function(range) {\n  var loose = this.loose;\n  range = range.trim();\n  debug('range', range, loose);\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];\n  range = range.replace(hr, hyphenReplace);\n  debug('hyphen replace', range);\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);\n  debug('comparator trim', range, re[COMPARATORTRIM]);\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace);\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace);\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ');\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var set = range.split(' ').map(function(comp) {\n    return parseComparator(comp, loose);\n  }).join(' ').split(/\\s+/);\n  if (this.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function(comp) {\n      return !!comp.match(compRe);\n    });\n  }\n  set = set.map(function(comp) {\n    return new Comparator(comp, loose);\n  });\n\n  return set;\n};\n\nRange.prototype.intersects = function(range, loose) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required');\n  }\n\n  return this.set.some(function(thisComparators) {\n    return thisComparators.every(function(thisComparator) {\n      return range.set.some(function(rangeComparators) {\n        return rangeComparators.every(function(rangeComparator) {\n          return thisComparator.intersects(rangeComparator, loose);\n        });\n      });\n    });\n  });\n};\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators;\nfunction toComparators(range, loose) {\n  return new Range(range, loose).set.map(function(comp) {\n    return comp.map(function(c) {\n      return c.value;\n    }).join(' ').trim().split(' ');\n  });\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator(comp, loose) {\n  debug('comp', comp);\n  comp = replaceCarets(comp, loose);\n  debug('caret', comp);\n  comp = replaceTildes(comp, loose);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, loose);\n  debug('xrange', comp);\n  comp = replaceStars(comp, loose);\n  debug('stars', comp);\n  return comp;\n}\n\nfunction isX(id) {\n  return !id || id.toLowerCase() === 'x' || id === '*';\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceTilde(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceTilde(comp, loose) {\n  var r = loose ? re[TILDELOOSE] : re[TILDE];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p))\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    else if (pr) {\n      debug('replaceTilde pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      ret = '>=' + M + '.' + m + '.' + p + pr +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    } else\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0';\n\n    debug('tilde return', ret);\n    return ret;\n  });\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceCaret(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceCaret(comp, loose) {\n  debug('caret', comp, loose);\n  var r = loose ? re[CARETLOOSE] : re[CARET];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p)) {\n      if (M === '0')\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n      else\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p + pr +\n              ' <' + (+M + 1) + '.0.0';\n    } else {\n      debug('no pr');\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0';\n    }\n\n    debug('caret return', ret);\n    return ret;\n  });\n}\n\nfunction replaceXRanges(comp, loose) {\n  debug('replaceXRanges', comp, loose);\n  return comp.split(/\\s+/).map(function(comp) {\n    return replaceXRange(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceXRange(comp, loose) {\n  comp = comp.trim();\n  var r = loose ? re[XRANGELOOSE] : re[XRANGE];\n  return comp.replace(r, function(ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX)\n      gtlt = '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // replace X with 0\n      if (xm)\n        m = 0;\n      if (xp)\n        p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>=';\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else if (xp) {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<';\n        if (xm)\n          M = +M + 1;\n        else\n          m = +m + 1;\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p;\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    }\n\n    debug('xRange return', ret);\n\n    return ret;\n  });\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars(comp, loose) {\n  debug('replaceStars', comp, loose);\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '');\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace($0,\n                       from, fM, fm, fp, fpr, fb,\n                       to, tM, tm, tp, tpr, tb) {\n\n  if (isX(fM))\n    from = '';\n  else if (isX(fm))\n    from = '>=' + fM + '.0.0';\n  else if (isX(fp))\n    from = '>=' + fM + '.' + fm + '.0';\n  else\n    from = '>=' + from;\n\n  if (isX(tM))\n    to = '';\n  else if (isX(tm))\n    to = '<' + (+tM + 1) + '.0.0';\n  else if (isX(tp))\n    to = '<' + tM + '.' + (+tm + 1) + '.0';\n  else if (tpr)\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n  else\n    to = '<=' + to;\n\n  return (from + ' ' + to).trim();\n}\n\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function(version) {\n  if (!version)\n    return false;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version))\n      return true;\n  }\n  return false;\n};\n\nfunction testSet(set, version) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version))\n      return false;\n  }\n\n  if (version.prerelease.length) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (var i = 0; i < set.length; i++) {\n      debug(set[i].semver);\n      if (set[i].semver === ANY)\n        continue;\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver;\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch)\n          return true;\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false;\n  }\n\n  return true;\n}\n\nexports.satisfies = satisfies;\nfunction satisfies(version, range, loose) {\n  try {\n    range = new Range(range, loose);\n  } catch (er) {\n    return false;\n  }\n  return range.test(version);\n}\n\nexports.maxSatisfying = maxSatisfying;\nfunction maxSatisfying(versions, range, loose) {\n  var max = null;\n  var maxSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!max || maxSV.compare(v) === -1) { // compare(max, v, true)\n        max = v;\n        maxSV = new SemVer(max, loose);\n      }\n    }\n  })\n  return max;\n}\n\nexports.minSatisfying = minSatisfying;\nfunction minSatisfying(versions, range, loose) {\n  var min = null;\n  var minSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!min || minSV.compare(v) === 1) { // compare(min, v, true)\n        min = v;\n        minSV = new SemVer(min, loose);\n      }\n    }\n  })\n  return min;\n}\n\nexports.validRange = validRange;\nfunction validRange(range, loose) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, loose).range || '*';\n  } catch (er) {\n    return null;\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr;\nfunction ltr(version, range, loose) {\n  return outside(version, range, '<', loose);\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr;\nfunction gtr(version, range, loose) {\n  return outside(version, range, '>', loose);\n}\n\nexports.outside = outside;\nfunction outside(version, range, hilo, loose) {\n  version = new SemVer(version, loose);\n  range = new Range(range, loose);\n\n  var gtfn, ltefn, ltfn, comp, ecomp;\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break;\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break;\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, loose)) {\n    return false;\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    var high = null;\n    var low = null;\n\n    comparators.forEach(function(comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator;\n      low = low || comparator;\n      if (gtfn(comparator.semver, high.semver, loose)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, loose)) {\n        low = comparator;\n      }\n    });\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false;\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false;\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexports.prerelease = prerelease;\nfunction prerelease(version, loose) {\n  var parsed = parse(version, loose);\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null;\n}\n\nexports.intersects = intersects;\nfunction intersects(r1, r2, loose) {\n  r1 = new Range(r1, loose)\n  r2 = new Range(r2, loose)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce;\nfunction coerce(version) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  var match = version.match(re[COERCE]);\n\n  if (match == null)\n    return null;\n\n  return parse((match[1] || '0') + '.' + (match[2] || '0') + '.' + (match[3] || '0')); \n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (obj instanceof Object) {\n            for (var i = 0; i < props.length; i++) {\n                if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\n                    this['set' + _capitalize(props[i])](obj[props[i]]);\n                }\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nimport {inspectHooksOfFiber} from '../../backend/ReactDebugHooks';\n\nimport type {InspectedHooks} from '../../backend/types';\nimport type Agent from '../../agent/Agent';\nimport type Bridge from '../../agent/Bridge';\n\ntype ElementID = string;\n\nexport default function setupHooksInspector(bridge: Bridge, agent: Agent) {\n  let prevHooksTree: InspectedHooks | null = null;\n  let selectedID: ElementID | null = null;\n\n  agent.on('selected', (id: ElementID) => {\n    selectedID = id;\n\n    const data = agent.elementData.get(id);\n    let hooksTree = null;\n    if (data && data.containsHooks) {\n      hooksTree = inspectHooksTree(id);\n    }\n\n    if (prevHooksTree !== hooksTree) {\n      prevHooksTree = hooksTree;\n      bridge.send('inspectedHooks', hooksTree);\n    }\n  });\n\n  agent.on('update', (data: Object) => {\n    // If the element that was just updated is also being inspected, update the hooks values.\n    if (\n      selectedID !== null &&\n      prevHooksTree !== null &&\n      prevHooksTree.elementID === data.id\n    ) {\n      const hooksTree = inspectHooksTree(data.id);\n      if (prevHooksTree !== hooksTree) {\n        prevHooksTree = hooksTree;\n        bridge.send('inspectedHooks', hooksTree);\n      }\n    }\n  });\n\n  function inspectHooksTree(id: ElementID): InspectedHooks | null {\n    const data = agent.elementData.get(id);\n    const internalInstance = agent.internalInstancesById.get(id);\n    if (internalInstance) {\n      const rendererID = agent.renderers.get(id);\n      if (rendererID) {\n        const internals = agent.reactInternals[rendererID].renderer;\n        if (internals && internals.currentDispatcherRef) {\n          // HACK: This leaks Fiber-specific logic into the Agent which is not ideal.\n          // $FlowFixMe\n          const currentFiber = data.state === internalInstance.memoizedState ? internalInstance : internalInstance.alternate;\n\n          const hooksTree = inspectHooksOfFiber(currentFiber, internals.currentDispatcherRef);\n\n          // It's also important to store the element ID,\n          // so the frontend can avoid potentially showing the wrong hooks data for an element,\n          // (since hooks inspection is done as part of a separate Bridge message).\n          // But we can't store it as \"id\" because the Bridge stores a map of \"inspectable\" data keyed by this field.\n          // Use an id that won't conflict with the element itself (because we don't want to override data).\n          // This is important if components have both inspectable props and inspectable hooks.\n          return {\n            elementID: id,\n            id: 'hooksTree',\n            hooksTree,\n          };\n        }\n      }\n    }\n    return null;\n  }\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n'use strict';\n\ntype Agent = any;\n\nimport type {Interaction, StoreSnapshot} from './ProfilerTypes';\n\nconst hasNativePerformanceNow =\n  typeof performance === 'object' &&\n  typeof performance.now === 'function';\n\nconst now = hasNativePerformanceNow\n  ? () => performance.now()\n  : () => Date.now();\n\n/**\n * The Profiler UI displays the entire React tree, with timing info, for each commit.\n * The frontend store only has the latest tree at any given time though,\n * So the ProfileCollector stores snapshots of the immutable tree for each commit,\n * Along with timing information for nodes that were updated in that commit.\n * This information is saved in the ProfilerStore.\n */\nclass ProfileCollector {\n  _agent: Agent;\n  _committedNodes: Set<string> = new Set();\n  _isRecording: boolean = false;\n  _maxActualDuration: number = 0;\n  _recordingStartTime: number = 0;\n\n  constructor(agent: Agent) {\n    this._agent = agent;\n\n    agent.on('isRecording', this._onIsRecording);\n    agent.on('mount', this._onMountOrUpdate);\n    agent.on('rootCommitted', this._onRootCommitted);\n    agent.on('unmount', this._onUnmount);\n    agent.on('update', this._onMountOrUpdate);\n  }\n\n  _takeCommitSnapshotForRoot(id: string, data: any) {\n    const interactionsArray = data.memoizedInteractions != null\n      ? Array.from(data.memoizedInteractions)\n      : [];\n\n    // Map interaction start times to when we started profiling.\n    // We clone (rather than mutate) the interactions in stateNode.memoizedInteractions,\n    // Because we don't want to affect user code that might be consuming these Interactions via Profiler.\n    const memoizedInteractions = interactionsArray.map(({name, timestamp}: Interaction) => ({\n      name,\n      timestamp: timestamp - this._recordingStartTime,\n    }));\n\n    const storeSnapshot: StoreSnapshot = {\n      memoizedInteractions,\n      committedNodes: Array.from(this._committedNodes),\n      commitTime: now() - this._recordingStartTime,\n      duration: this._maxActualDuration,\n      root: id,\n    };\n\n    this._agent.emit('storeSnapshot', storeSnapshot);\n  }\n\n  _onIsRecording = isRecording => {\n    this._committedNodes = new Set();\n    this._isRecording = isRecording;\n    this._recordingStartTime = isRecording ? now() : 0;\n\n    if (isRecording) {\n      // Maybe in the future, we'll allow collecting multiple profiles and stepping through them.\n      // For now, clear old snapshots when we start recording new data though.\n      this._agent.emit('clearSnapshots');\n\n      // Note that the Profiler doesn't need to do anything to turn profiling on in React.\n      // Profiling-capable builds automatically profile all roots when DevTools is detected.\n    }\n  };\n\n  _onMountOrUpdate = (data: any) => {\n    if (!this._isRecording || data.actualDuration === undefined) {\n      return;\n    }\n\n    this._committedNodes.add(data.id);\n    this._maxActualDuration = Math.max(this._maxActualDuration, data.actualDuration);\n  };\n\n  _onRootCommitted = (id: string, internalInstance: any, data: any) => {\n    if (!this._isRecording) {\n      return;\n    }\n\n    // Once all roots have been committed,\n    // Take a snapshot of the current tree.\n    this._takeCommitSnapshotForRoot(id, data);\n\n    // Then reset data for the next snapshot.\n    this._committedNodes = new Set();\n    this._maxActualDuration = 0;\n  }\n\n  _onUnmount = (id: string) => {\n    this._committedNodes.delete(id);\n  };\n}\n\nfunction init(agent: Agent): ProfileCollector {\n  return new ProfileCollector(agent);\n}\n\nmodule.exports = {\n  init,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nimport type Bridge from '../../agent/Bridge';\nimport type Agent from '../../agent/Agent';\n\nconst emptyFunction = () => {};\n\nmodule.exports = (bridge: Bridge, agent: Agent, hook: Object) => {\n  const checkIfProfilingIsSupported = () => {\n    let profilingIsSupported = false;\n\n    // Feature detection for profiling mode.\n    // The presence of an \"treeBaseDuration\" field signifies:\n    // 1) This is a new enough version of React (e.g. > 16.4 which was the initial profiling release)\n    // 2) This is a profiling capable bundle (e.g. DEV or PROFILING)\n    agent.roots.forEach((rootId: string) => {\n      const root = agent.internalInstancesById.get(rootId);\n      if ((root: any).hasOwnProperty('treeBaseDuration')) {\n        profilingIsSupported = true;\n      }\n    });\n\n    bridge.call('profiler:update', [profilingIsSupported], emptyFunction);\n  };\n\n  // Wait for roots to be registered.\n  // They might not yet exist at the time the plugin is initialized.\n  // Also while the first root(s) may not be capable of profiling, later ones might.\n  agent.on('root', checkIfProfilingIsSupported);\n  agent.on('rootUnmounted', checkIfProfilingIsSupported);\n\n  // Check once in case some roots have already been registered:\n  checkIfProfilingIsSupported();\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n\n/**\n * This is mirror from\n * https://github.com/facebook/react-native/blob/master/Libraries/Inspector/resolveBoxStyle.js\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * ->\n * {top: 5, left: 5, right: 5, bottom: 10}\n *\n * If none are set, returns false.\n */\nfunction resolveBoxStyle(prefix: string, style: Object): ?Object {\n  var res = {};\n  var subs = ['top', 'left', 'bottom', 'right'];\n  var set = false;\n  subs.forEach(sub => {\n    res[sub] = style[prefix] || 0;\n  });\n  if (style[prefix]) {\n    set = true;\n  }\n  if (style[prefix + 'Vertical']) {\n    res.top = res.bottom = style[prefix + 'Vertical'];\n    set = true;\n  }\n  if (style[prefix + 'Horizontal']) {\n    res.left = res.right = style[prefix + 'Horizontal'];\n    set = true;\n  }\n  subs.forEach(sub => {\n    var val = style[prefix + capFirst(sub)];\n    if (val) {\n      res[sub] = val;\n      set = true;\n    }\n  });\n  if (!set) {\n    return null;\n  }\n  return res;\n}\n\nfunction capFirst(text) {\n  return text[0].toUpperCase() + text.slice(1);\n}\n\nmodule.exports = resolveBoxStyle;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nvar resolveBoxStyle = require('./resolveBoxStyle');\n\nimport type Bridge from '../../agent/Bridge';\nimport type Agent from '../../agent/Agent';\n\nvar styleOverridesByHostComponentId = {};\n\nmodule.exports = function setupRNStyle(\n  bridge: Bridge,\n  agent: Agent,\n  resolveRNStyle: (style: number) => ?Object,\n) {\n  bridge.onCall('rn-style:get', id => {\n    var node = agent.elementData.get(id);\n    if (!node || !node.props) {\n      return null;\n    }\n    return resolveRNStyle(node.props.style);\n  });\n\n  bridge.on('rn-style:measure', id => {\n    measureStyle(agent, bridge, resolveRNStyle, id);\n  });\n\n  bridge.on('rn-style:rename', ({id, oldName, newName, val}) => {\n    renameStyle(agent, id, oldName, newName, val);\n    setTimeout(() => measureStyle(agent, bridge, resolveRNStyle, id));\n  });\n\n  bridge.on('rn-style:set', ({id, attr, val}) => {\n    setStyle(agent, id, attr, val);\n    setTimeout(() => measureStyle(agent, bridge, resolveRNStyle, id));\n  });\n};\n\nvar blank = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nfunction measureStyle(agent, bridge, resolveRNStyle, id) {\n  var node = agent.elementData.get(id);\n  if (!node || !node.props) {\n    bridge.send('rn-style:measure', {});\n    return;\n  }\n\n  let style = resolveRNStyle(node.props.style);\n  // If it's a host component we edited before, amend styles.\n  if (styleOverridesByHostComponentId[id]) {\n    style = Object.assign({}, style, styleOverridesByHostComponentId[id]);\n  }\n\n  var instance = node.publicInstance;\n  if (!instance || !instance.measure) {\n    bridge.send('rn-style:measure', {style});\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send('rn-style:measure', {style});\n      return;\n    }\n    var margin = (style && resolveBoxStyle('margin', style)) || blank;\n    var padding = (style && resolveBoxStyle('padding', style)) || blank;\n    bridge.send('rn-style:measure', {\n      style,\n      measuredLayout: {\n        x,\n        y,\n        width,\n        height,\n        left,\n        top,\n        margin,\n        padding,\n      },\n    });\n  });\n}\n\nfunction shallowClone(obj) {\n  var nobj = {};\n  for (var n in obj) {\n    nobj[n] = obj[n];\n  }\n  return nobj;\n}\n\nfunction renameStyle(agent, id, oldName, newName, val) {\n  var data = agent.elementData.get(id);\n  var newStyle = newName\n    ? {[oldName]: undefined, [newName]: val}\n    : {[oldName]: undefined};\n\n  if (data && data.updater && typeof data.updater.setInProps === 'function') {\n    // First attempt: use setInProps().\n    // We do this for composite components, and it works relatively well.\n    var style = data && data.props && data.props.style;\n    var customStyle;\n    if (Array.isArray(style)) {\n      var lastLength = style.length - 1;\n      if (typeof style[lastLength] === 'object' && !Array.isArray(style[lastLength])) {\n        customStyle = shallowClone(style[lastLength]);\n        delete customStyle[oldName];\n        if (newName) {\n          customStyle[newName] = val;\n        } else {\n          customStyle[oldName] = undefined;\n        }\n        // $FlowFixMe we know that updater is not null here\n        data.updater.setInProps(['style', lastLength], customStyle);\n      } else {\n        style = style.concat([newStyle]);\n        // $FlowFixMe we know that updater is not null here\n        data.updater.setInProps(['style'], style);\n      }\n    } else {\n      if (typeof style === 'object') {\n        customStyle = shallowClone(style);\n        delete customStyle[oldName];\n        if (newName) {\n          customStyle[newName] = val;\n        } else {\n          customStyle[oldName] = undefined;\n        }\n        // $FlowFixMe we know that updater is not null here\n        data.updater.setInProps(['style'], customStyle);\n      } else {\n        style = [style, newStyle];\n        data.updater.setInProps(['style'], style);\n      }\n    }\n  } else if (data && data.updater && typeof data.updater.setNativeProps === 'function') {\n    // Fallback: use setNativeProps(). We're dealing with a host component.\n    // Remember to \"correct\" resolved styles when we read them next time.\n    if (!styleOverridesByHostComponentId[id]) {\n      styleOverridesByHostComponentId[id] = newStyle;\n    } else {\n      Object.assign(styleOverridesByHostComponentId[id], newStyle);\n    }\n    data.updater.setNativeProps({ style: newStyle });\n  } else {\n    return;\n  }\n  agent.emit('hideHighlight');\n}\n\nfunction setStyle(agent, id, attr, val) {\n  var data = agent.elementData.get(id);\n  var newStyle = {[attr]: val};\n\n  if (data && data.updater && typeof data.updater.setInProps === 'function') {\n    // First attempt: use setInProps().\n    // We do this for composite components, and it works relatively well.\n    var style = data.props && data.props.style;\n    if (Array.isArray(style)) {\n      var lastLength = style.length - 1;\n      if (typeof style[lastLength] === 'object' && !Array.isArray(style[lastLength])) {\n        // $FlowFixMe we know that updater is not null here\n        data.updater.setInProps(['style', lastLength, attr], val);\n      } else {\n        style = style.concat([newStyle]);\n        // $FlowFixMe we know that updater is not null here\n        data.updater.setInProps(['style'], style);\n      }\n    } else {\n      style = [style, newStyle];\n      data.updater.setInProps(['style'], style);\n    }\n  } else if (data && data.updater && typeof data.updater.setNativeProps === 'function') {\n    // Fallback: use setNativeProps(). We're dealing with a host component.\n    // Remember to \"correct\" resolved styles when we read them next time.\n    if (!styleOverridesByHostComponentId[id]) {\n      styleOverridesByHostComponentId[id] = newStyle;\n    } else {\n      Object.assign(styleOverridesByHostComponentId[id], newStyle);\n    }\n    data.updater.setNativeProps({ style: newStyle });\n  } else {\n    return;\n  }\n  agent.emit('hideHighlight');\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\nfunction guid(): string {\n  return 'g' + Math.random().toString(16).substr(2);\n}\n\nmodule.exports = guid;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @flow\n */\n'use strict';\n\ntype ConnectOptions = {\n  host?: string,\n  port?: number,\n  resolveRNStyle?: (style: number) => ?Object,\n  isAppActive?: () => boolean,\n  websocket?: ?WebSocket,\n};\n\nvar Agent = require('../../../agent/Agent');\nvar Bridge = require('../../../agent/Bridge');\nvar ProfileCollector = require('../../../plugins/Profiler/ProfileCollector');\nvar installGlobalHook = require('../../../backend/installGlobalHook');\nvar inject = require('../../../agent/inject');\nvar invariant = require('assert');\nvar setupRNStyle = require('../../../plugins/ReactNativeStyle/setupBackend');\nvar setupHooksInspector = require('../../../plugins/HooksInspector/backend').default;\nvar setupProfiler = require('../../../plugins/Profiler/backend');\n\ninstallGlobalHook(window);\n\nif (window.document) {\n  // This shell is universal, and might be used inside a web app.\n  window.__REACT_DEVTOOLS_GLOBAL_HOOK__.on('react-devtools', agent => {\n    var setupHighlighter = require('../../../frontend/Highlighter/setup');\n    setupHighlighter(agent);\n  });\n}\n\nfunction connectToDevTools(options: ?ConnectOptions) {\n  var {\n    host = 'localhost',\n    port = 8097,\n    websocket,\n    resolveRNStyle = null,\n    isAppActive = () => true,\n  } = options || {};\n\n  function scheduleRetry() {\n    // Two seconds because RN had issues with too fast retries.\n    setTimeout(() => connectToDevTools(options), 2000);\n  }\n\n  if (!isAppActive()) {\n    // If the app is in background, maybe retry later.\n    // Don't actually attempt to connect until we're in foreground.\n    scheduleRetry();\n    return;\n  }\n\n  var messageListeners = [];\n  var closeListeners = [];\n  var uri = 'ws://' + host + ':' + port;\n  // If existing websocket is passed, use it.\n  // This is necessary to support our custom integrations.\n  // See D6251744.\n  var ws = websocket ? websocket : new window.WebSocket(uri);\n  ws.onclose = handleClose;\n  ws.onerror = handleFailed;\n  ws.onmessage = handleMessage;\n  ws.onopen = function() {\n    var wall = {\n      listen(fn) {\n        messageListeners.push(fn);\n      },\n      onClose(fn) {\n        closeListeners.push(fn);\n      },\n      send(data) {\n        // console.log('SSU', 'wall.send', JSON.stringify(data));\n        ws.send(JSON.stringify(data));\n      },\n    };\n    setupBackend(wall, resolveRNStyle);\n  };\n\n  var hasClosed = false;\n  function handleClose() {\n    if (!hasClosed) {\n      hasClosed = true;\n      scheduleRetry();\n      closeListeners.forEach(fn => fn());\n    }\n  }\n  function handleFailed() {\n    if (!hasClosed) {\n      hasClosed = true;\n      closeListeners.forEach(fn => fn());\n    }\n  }\n\n  function handleMessage(evt) {\n    var data;\n    try {\n      invariant(typeof evt.data === 'string');\n      data = JSON.parse(evt.data);\n    } catch (e) {\n      console.error('failed to parse json: ' + String(evt.data));\n      return;\n    }\n    messageListeners.forEach(fn => {\n      try {\n        fn(data);\n      } catch (e) {\n        // jsc doesn't play so well with tracebacks that go into eval'd code,\n        // so the stack trace here will stop at the `eval()` call. Getting the\n        // message that caused the error is the best we can do for now.\n        console.log(data);\n        throw e;\n      }\n    });\n  }\n}\n\nfunction setupBackend(wall, resolveRNStyle) {\n  wall.onClose(() => {\n    if (agent) {\n      agent.emit('shutdown');\n    }\n    // This appears necessary for plugin cleanup.\n    window.__REACT_DEVTOOLS_GLOBAL_HOOK__.emit('shutdown');\n    bridge = null;\n    agent = null;\n    console.log('closing devtools');\n  });\n\n  var bridge = new Bridge(wall);\n  var agent = new Agent(window, {\n    rnStyle: !!resolveRNStyle,\n    rnStyleMeasure: !!resolveRNStyle,\n  });\n  agent.addBridge(bridge);\n\n  if (resolveRNStyle) {\n    setupRNStyle(bridge, agent, resolveRNStyle);\n  }\n\n  setupProfiler(bridge, agent, window.__REACT_DEVTOOLS_GLOBAL_HOOK__);\n  setupHooksInspector(bridge, agent);\n\n  var _connectTimeout = setTimeout(() => {\n    console.warn('react-devtools agent got no connection');\n  }, 20000);\n\n  agent.once('connected', () => {\n    if (!agent) {\n      return;\n    }\n    inject(window.__REACT_DEVTOOLS_GLOBAL_HOOK__, agent);\n    clearTimeout(_connectTimeout);\n  });\n\n  ProfileCollector.init(agent);\n}\n\nmodule.exports = { connectToDevTools };\n"],"sourceRoot":""}